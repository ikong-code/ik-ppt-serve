var lo=Object.defineProperty,co=Object.defineProperties;var uo=Object.getOwnPropertyDescriptors;var Sn=Object.getOwnPropertySymbols;var po=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable;var Dn=(e,t,r)=>t in e?lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ge=(e,t)=>{for(var r in t||(t={}))po.call(t,r)&&Dn(e,r,t[r]);if(Sn)for(var r of Sn(t))fo.call(t,r)&&Dn(e,r,t[r]);return e},De=(e,t)=>co(e,uo(t));import{r as C,l as zt,m as vo,a as Me,_ as V,b as go,u as Hr,n as Ca,s as Ln,o as nt,p as Ge,q as $,t as ho,v as Ve,w as mo,x as Vt,y as Sa,j as _,c as m,z as bo,R as Fe,h as En,d as xo,A as Mn,B as yo,C as wo,f as Co,D as So,E as Gr,G as Pn,F as Do,H as Xe,I as Lo,J as bt,K as Wr,L as Eo,M as Mo,N as Po,O as In,P as Bn,Q as Io,S as An,T as Rn,U as Bo,V as Ao}from"./index.a3e72796.js";import{C as Da,h as Se,c as La,d as Ea,e as Ma,M as Ro,a3 as No,m as To,f as Pa,g as Ar,q as ko,ax as Oo,J as Ia,_ as gr,x as Fo,a9 as Ut,aa as ke,au as Nn,a7 as qt,av as Ho,aw as Yt,at as Go,as as Wo,ay as $o,az as Xt,ap as at,G as Re,T as Tn,al as zo}from"./api.73cb755d.js";function Ba(e=zt){const t=e===zt?vo:()=>C.exports.useContext(e);return function(){const{store:n}=t();return n}}const Vo=Ba();function Uo(e=zt){const t=e===zt?Vo:Ba(e);return function(){return t().dispatch}}const ve=Uo();var qo=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Yo=function(t){var r,n=C.exports.useContext(Da),a=n.getPrefixCls,i=n.direction,o=t.prefixCls,s=t.type,u=s===void 0?"horizontal":s,c=t.orientation,p=c===void 0?"center":c,l=t.orientationMargin,d=t.className,f=t.children,v=t.dashed,b=t.plain,y=qo(t,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),w=a("divider",o),S=p.length>0?"-".concat(p):p,D=!!f,L=p==="left"&&l!=null,B=p==="right"&&l!=null,M=Se(w,"".concat(w,"-").concat(u),(r={},Me(r,"".concat(w,"-with-text"),D),Me(r,"".concat(w,"-with-text").concat(S),D),Me(r,"".concat(w,"-dashed"),!!v),Me(r,"".concat(w,"-plain"),!!b),Me(r,"".concat(w,"-rtl"),i==="rtl"),Me(r,"".concat(w,"-no-default-orientation-margin-left"),L),Me(r,"".concat(w,"-no-default-orientation-margin-right"),B),r),d),R=V(V({},L&&{marginLeft:l}),B&&{marginRight:l});return C.exports.createElement("div",V({className:M},y,{role:"separator"}),f&&C.exports.createElement("span",{className:"".concat(w,"-inner-text"),style:R},f))},xt=Yo;function Xo(e){return Array.isArray(e)?e:[e]}var Aa={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},Ra=Object.keys(Aa).filter(function(e){if(typeof document=="undefined")return!1;var t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})})[0],kn=Aa[Ra];function On(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on".concat(t),r)}function Fn(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n):e.attachEvent&&e.detachEvent("on".concat(t),r)}function _o(e,t){var r=typeof e=="function"?e(t):e;return Array.isArray(r)?r.length===2?r:[r[0],r[1]]:[r]}var Hn=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},hr=!(typeof window!="undefined"&&window.document&&window.document.createElement),jo=function e(t,r,n,a){if(!r||r===document||r instanceof Document)return!1;if(r===t.parentNode)return!0;var i=Math.max(Math.abs(n),Math.abs(a))===Math.abs(a),o=Math.max(Math.abs(n),Math.abs(a))===Math.abs(n),s=r.scrollHeight-r.clientHeight,u=r.scrollWidth-r.clientWidth,c=document.defaultView.getComputedStyle(r),p=c.overflowY==="auto"||c.overflowY==="scroll",l=c.overflowX==="auto"||c.overflowX==="scroll",d=s&&p,f=u&&l;return i&&(!d||d&&(r.scrollTop>=s&&a<0||r.scrollTop<=0&&a>0))||o&&(!f||f&&(r.scrollLeft>=u&&n<0||r.scrollLeft<=0&&n>0))?e(t,r.parentNode,n,a):!1},Zo=["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","scrollLocker","contentWrapperStyle"],dt={},Gn=function(e){La(r,e);var t=Ea(r);function r(n){var a;return Ma(this,r),a=t.call(this,n),a.levelDom=void 0,a.dom=void 0,a.contentWrapper=void 0,a.contentDom=void 0,a.maskDom=void 0,a.handlerDom=void 0,a.drawerId=void 0,a.timeout=void 0,a.passive=void 0,a.startPos=void 0,a.domFocus=function(){a.dom&&a.dom.focus()},a.removeStartHandler=function(i){if(i.touches.length>1){a.startPos=null;return}a.startPos={x:i.touches[0].clientX,y:i.touches[0].clientY}},a.removeMoveHandler=function(i){if(!(i.changedTouches.length>1||!a.startPos)){var o=i.currentTarget,s=i.changedTouches[0].clientX-a.startPos.x,u=i.changedTouches[0].clientY-a.startPos.y;(o===a.maskDom||o===a.handlerDom||o===a.contentDom&&jo(o,i.target,s,u))&&i.cancelable&&i.preventDefault()}},a.transitionEnd=function(i){var o=i.target;Fn(o,kn,a.transitionEnd),o.style.transition=""},a.onKeyDown=function(i){if(i.keyCode===Ro.ESC){var o=a.props.onClose;i.stopPropagation(),o&&o(i)}},a.onWrapperTransitionEnd=function(i){var o=a.props,s=o.open,u=o.afterVisibleChange;i.target===a.contentWrapper&&i.propertyName.match(/transform$/)&&(a.dom.style.transition="",!s&&a.getCurrentDrawerSome()&&(document.body.style.overflowX="",a.maskDom&&(a.maskDom.style.left="",a.maskDom.style.width="")),u&&u(!!s))},a.openLevelTransition=function(){var i=a.props,o=i.open,s=i.width,u=i.height,c=a.getHorizontalBoolAndPlacementName(),p=c.isHorizontal,l=c.placementName,d=a.contentDom?a.contentDom.getBoundingClientRect()[p?"width":"height"]:0,f=(p?s:u)||d;a.setLevelAndScrolling(o,l,f)},a.setLevelTransform=function(i,o,s,u){var c=a.props,p=c.placement,l=c.levelMove,d=c.duration,f=c.ease,v=c.showMask;a.levelDom.forEach(function(b){b.style.transition="transform ".concat(d," ").concat(f),On(b,kn,a.transitionEnd);var y=i?s:0;if(l){var w=_o(l,{target:b,open:i});y=i?w[0]:w[1]||0}var S=typeof y=="number"?"".concat(y,"px"):y,D=p==="left"||p==="top"?S:"-".concat(S);D=v&&p==="right"&&u?"calc(".concat(D," + ").concat(u,"px)"):D,b.style.transform=y?"".concat(o,"(").concat(D,")"):""})},a.setLevelAndScrolling=function(i,o,s){var u=a.props.onChange;if(!hr){var c=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?No(!0):0;a.setLevelTransform(i,o,s,c),a.toggleScrollingToDrawerAndBody(c)}u&&u(i)},a.toggleScrollingToDrawerAndBody=function(i){var o=a.props,s=o.getContainer,u=o.showMask,c=o.open,p=s&&s();if(p&&p.parentNode===document.body&&u){var l=["touchstart"],d=[document.body,a.maskDom,a.handlerDom,a.contentDom];c&&document.body.style.overflow!=="hidden"?(i&&a.addScrollingEffect(i),document.body.style.touchAction="none",d.forEach(function(f,v){!f||On(f,l[v]||"touchmove",v?a.removeMoveHandler:a.removeStartHandler,a.passive)})):a.getCurrentDrawerSome()&&(document.body.style.touchAction="",i&&a.remScrollingEffect(i),d.forEach(function(f,v){!f||Fn(f,l[v]||"touchmove",v?a.removeMoveHandler:a.removeStartHandler,a.passive)}))}},a.addScrollingEffect=function(i){var o=a.props,s=o.placement,u=o.duration,c=o.ease,p="width ".concat(u," ").concat(c),l="transform ".concat(u," ").concat(c);switch(a.dom.style.transition="none",s){case"right":a.dom.style.transform="translateX(-".concat(i,"px)");break;case"top":case"bottom":a.dom.style.width="calc(100% - ".concat(i,"px)"),a.dom.style.transform="translateZ(0)";break}clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.dom&&(a.dom.style.transition="".concat(l,",").concat(p),a.dom.style.width="",a.dom.style.transform="")})},a.remScrollingEffect=function(i){var o=a.props,s=o.placement,u=o.duration,c=o.ease;Ra&&(document.body.style.overflowX="hidden"),a.dom.style.transition="none";var p,l="width ".concat(u," ").concat(c),d="transform ".concat(u," ").concat(c);switch(s){case"left":{a.dom.style.width="100%",l="width 0s ".concat(c," ").concat(u);break}case"right":{a.dom.style.transform="translateX(".concat(i,"px)"),a.dom.style.width="100%",l="width 0s ".concat(c," ").concat(u),a.maskDom&&(a.maskDom.style.left="-".concat(i,"px"),a.maskDom.style.width="calc(100% + ".concat(i,"px)"));break}case"top":case"bottom":{a.dom.style.width="calc(100% + ".concat(i,"px)"),a.dom.style.height="100%",a.dom.style.transform="translateZ(0)",p="height 0s ".concat(c," ").concat(u);break}}clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.dom&&(a.dom.style.transition="".concat(d,",").concat(p?"".concat(p,","):"").concat(l),a.dom.style.transform="",a.dom.style.width="",a.dom.style.height="")})},a.getCurrentDrawerSome=function(){return!Object.keys(dt).some(function(i){return dt[i]})},a.getLevelDom=function(i){var o=i.level,s=i.getContainer;if(!hr){var u=s&&s(),c=u?u.parentNode:null;if(a.levelDom=[],o==="all"){var p=c?Array.prototype.slice.call(c.children):[];p.forEach(function(l){l.nodeName!=="SCRIPT"&&l.nodeName!=="STYLE"&&l.nodeName!=="LINK"&&l!==u&&a.levelDom.push(l)})}else o&&Xo(o).forEach(function(l){document.querySelectorAll(l).forEach(function(d){a.levelDom.push(d)})})}},a.getHorizontalBoolAndPlacementName=function(){var i=a.props.placement,o=i==="left"||i==="right",s="translate".concat(o?"X":"Y");return{isHorizontal:o,placementName:s}},a.state={_self:To(a)},a}return Pa(r,[{key:"componentDidMount",value:function(){var a=this;if(!hr){var i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return i=!0,null}}))}catch{}this.passive=i?{passive:!1}:!1}var o=this.props,s=o.open,u=o.getContainer,c=o.showMask,p=o.autoFocus,l=u&&u();if(this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),this.getLevelDom(this.props),s&&(l&&l.parentNode===document.body&&(dt[this.drawerId]=s),this.openLevelTransition(),this.forceUpdate(function(){p&&a.domFocus()}),c)){var d;(d=this.props.scrollLocker)===null||d===void 0||d.lock()}}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.open,s=i.getContainer,u=i.scrollLocker,c=i.showMask,p=i.autoFocus,l=s&&s();o!==a.open&&(l&&l.parentNode===document.body&&(dt[this.drawerId]=!!o),this.openLevelTransition(),o?(p&&this.domFocus(),c&&(u==null||u.lock())):u==null||u.unLock())}},{key:"componentWillUnmount",value:function(){var a=this.props,i=a.open,o=a.scrollLocker;delete dt[this.drawerId],i&&(this.setLevelTransform(!1),document.body.style.touchAction=""),o==null||o.unLock()}},{key:"render",value:function(){var a,i=this,o=this.props,s=o.className,u=o.children,c=o.style,p=o.width,l=o.height;o.defaultOpen;var d=o.open,f=o.prefixCls,v=o.placement;o.level,o.levelMove,o.ease,o.duration,o.getContainer;var b=o.handler;o.onChange,o.afterVisibleChange;var y=o.showMask,w=o.maskClosable,S=o.maskStyle,D=o.onClose,L=o.onHandleClick,B=o.keyboard;o.getOpenCount,o.scrollLocker;var M=o.contentWrapperStyle,R=Ar(o,Zo),I=this.dom?d:!1,P=Se(f,(a={},Me(a,"".concat(f,"-").concat(v),!0),Me(a,"".concat(f,"-open"),I),Me(a,s||"",!!s),Me(a,"no-mask",!y),a)),U=this.getHorizontalBoolAndPlacementName(),Y=U.placementName,oe=v==="left"||v==="top"?"-100%":"100%",ae=I?"":"".concat(Y,"(").concat(oe,")"),K=b&&C.exports.cloneElement(b,{onClick:function(O){b.props.onClick&&b.props.onClick(),L&&L(O)},ref:function(O){i.handlerDom=O}});return C.exports.createElement("div",V({},ko(R,["switchScrollingEffect","autoFocus"]),{tabIndex:-1,className:P,style:c,ref:function(O){i.dom=O},onKeyDown:I&&B?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),y&&C.exports.createElement("div",{className:"".concat(f,"-mask"),onClick:w?D:void 0,style:S,ref:function(O){i.maskDom=O}}),C.exports.createElement("div",{className:"".concat(f,"-content-wrapper"),style:go({transform:ae,msTransform:ae,width:Hn(p)?"".concat(p,"px"):p,height:Hn(l)?"".concat(l,"px"):l},M),ref:function(O){i.contentWrapper=O}},C.exports.createElement("div",{className:"".concat(f,"-content"),ref:function(O){i.contentDom=O}},u),K))}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,s=i._self,u={prevProps:a};if(o!==void 0){var c=a.placement,p=a.level;c!==o.placement&&(s.contentDom=null),p!==o.level&&s.getLevelDom(a)}return u}}]),r}(C.exports.Component),Ko=["defaultOpen","getContainer","wrapperClassName","forceRender","handler"],Jo=["visible","afterClose"],Na=function(e){La(r,e);var t=Ea(r);function r(n){var a;Ma(this,r),a=t.call(this,n),a.dom=void 0,a.onHandleClick=function(o){var s=a.props,u=s.onHandleClick,c=s.open;if(u&&u(o),typeof c=="undefined"){var p=a.state.open;a.setState({open:!p})}},a.onClose=function(o){var s=a.props,u=s.onClose,c=s.open;u&&u(o),typeof c=="undefined"&&a.setState({open:!1})};var i=typeof n.open!="undefined"?n.open:!!n.defaultOpen;return a.state={open:i},"onMaskClick"in n&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),a}return Pa(r,[{key:"render",value:function(){var a=this,i=this.props;i.defaultOpen;var o=i.getContainer,s=i.wrapperClassName,u=i.forceRender,c=i.handler,p=Ar(i,Ko),l=this.state.open;if(!o)return C.exports.createElement("div",{className:s,ref:function(v){a.dom=v}},C.exports.createElement(Gn,V({},p,{open:l,handler:c,getContainer:function(){return a.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var d=!!c||u;return C.exports.createElement(Oo,{visible:l,forceRender:d,getContainer:o,wrapperClassName:s},function(f){var v=f.visible,b=f.afterClose,y=Ar(f,Jo);return C.exports.createElement(Gn,V({},p,y,{open:v!==void 0?v:l,afterVisibleChange:b!==void 0?b:p.afterVisibleChange,handler:c,onClose:a.onClose,onHandleClick:a.onHandleClick}))})}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,s={prevProps:a};return typeof o!="undefined"&&a.open!==o.open&&(s.open=a.open),s}}]),r}(C.exports.Component);Na.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:C.exports.createElement("div",{className:"drawer-handle"},C.exports.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1,autoFocus:!0};var Qo=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Wn=C.exports.createContext(null);Ia("top","right","bottom","left");Ia("default","large");var $n={distance:180},Ta=C.exports.forwardRef(function(e,t){var r=e.width,n=e.height,a=e.size,i=a===void 0?"default":a,o=e.closable,s=o===void 0?!0:o,u=e.placement,c=u===void 0?"right":u,p=e.maskClosable,l=p===void 0?!0:p,d=e.mask,f=d===void 0?!0:d,v=e.level,b=v===void 0?null:v,y=e.keyboard,w=y===void 0?!0:y,S=e.push,D=S===void 0?$n:S,L=e.closeIcon,B=L===void 0?C.exports.createElement(Fo,null):L,M=e.bodyStyle,R=e.drawerStyle,I=e.className,P=e.visible,U=e.forceRender,Y=e.children,oe=e.zIndex,ae=e.destroyOnClose,K=e.style,W=e.title,O=e.headerStyle,re=e.onClose,de=e.footer,ue=e.footerStyle,G=e.prefixCls,z=e.getContainer,F=e.extra,J=e.afterVisibleChange,j=Qo(e,["width","height","size","closable","placement","maskClosable","mask","level","keyboard","push","closeIcon","bodyStyle","drawerStyle","className","visible","forceRender","children","zIndex","destroyOnClose","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange"]),Z=C.exports.useState(!1),k=gr(Z,2),H=k[0],ne=k[1],X=C.exports.useContext(Wn),ie=C.exports.useRef(!1),ce=C.exports.useState(!1),ee=gr(ce,2),g=ee[0],x=ee[1],h=C.exports.useState(!1),E=gr(h,2),N=E[0],T=E[1];C.exports.useEffect(function(){P?x(!0):T(!1)},[P]),C.exports.useEffect(function(){g&&P&&T(!0)},[g,P]);var Q=C.exports.useContext(Da),se=Q.getPopupContainer,fe=Q.getPrefixCls,ye=Q.direction,he=fe("drawer",G),Ee=z===void 0&&se?function(){return se(document.body)}:z;C.exports.useEffect(function(){return P&&X&&X.push(),function(){X&&X.pull()}},[]),C.exports.useEffect(function(){X&&(N?X.push():X.pull())},[N]);var fr=C.exports.useMemo(function(){return{push:function(){D&&ne(!0)},pull:function(){D&&ne(!1)}}},[D]);C.exports.useImperativeHandle(t,function(){return fr},[fr]);var wn=function(){if(!N&&!f)return{};var $e={};if(c==="left"||c==="right"){var vr=i==="large"?736:378;$e.width=typeof r=="undefined"?vr:r}else{var Cn=i==="large"?736:378;$e.height=typeof n=="undefined"?Cn:n}return $e},to=function(){var $e=function(et){var ze;if(typeof D=="boolean"?ze=D?$n.distance:0:ze=D.distance,ze=parseFloat(String(ze||0)),et==="left"||et==="right")return"translateX(".concat(et==="left"?ze:-ze,"px)");if(et==="top"||et==="bottom")return"translateY(".concat(et==="top"?ze:-ze,"px)")},vr=f?{}:wn();return V(V({zIndex:oe,transform:H?$e(c):void 0},vr),K)},ro=s&&C.exports.createElement("button",{type:"button",onClick:re,"aria-label":"Close",className:"".concat(he,"-close")},B);function no(){return!W&&!s?null:C.exports.createElement("div",{className:Se("".concat(he,"-header"),Me({},"".concat(he,"-header-close-only"),s&&!W&&!F)),style:O},C.exports.createElement("div",{className:"".concat(he,"-header-title")},ro,W&&C.exports.createElement("div",{className:"".concat(he,"-title")},W)),F&&C.exports.createElement("div",{className:"".concat(he,"-extra")},F))}function ao(){if(!de)return null;var Ze="".concat(he,"-footer");return C.exports.createElement("div",{className:Ze,style:ue},de)}var io=function(){return ie.current&&!U&&!P?null:C.exports.createElement("div",{className:"".concat(he,"-wrapper-body"),style:V({},R)},no(),C.exports.createElement("div",{className:"".concat(he,"-body"),style:M},Y),ao())},oo=Se(Me({"no-mask":!f},"".concat(he,"-rtl"),ye==="rtl"),I),so=f?wn():{};return C.exports.createElement(Wn.Provider,{value:fr},C.exports.createElement(Na,V({handler:!1},V({placement:c,prefixCls:he,maskClosable:l,level:b,keyboard:w,children:Y,onClose:re,forceRender:U},j),so,{open:N||P,showMask:f,style:to(),className:oo,getContainer:Ee,afterVisibleChange:function($e){$e?ie.current=!1:ae&&(ie.current=!0,x(!1)),J==null||J($e)}}),io()))});Ta.displayName="Drawer";var es=Ta;const ts=()=>{const e=document.documentElement;e&&e.RequestFullScreen?e.RequestFullScreen():e&&e.mozRequestFullScreen?e.mozRequestFullScreen():e&&e.webkitRequestFullScreen?e.webkitRequestFullScreen():e&&e.msRequestFullscreen&&e.msRequestFullscreen()},rs=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitExitFullScreen():document.msExitFullScreen&&document.msExitFullScreen()},ka=()=>!!(document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitFullScreen||document.msFullScreen),$r=()=>{var s,u,c;const e=ve();Hr();const t=Ca(),r=(s=t==null?void 0:t.search)==null?void 0:s.split("&");(c=(u=r[0])==null?void 0:u.split("="))==null||c[1];const n=!!(r!=null&&r[1]),a=()=>{ts(),e(Ln(!0))};return{enterScreening:a,enterScreeningFromStart:()=>{e(nt(0)),a()},exitScreening:()=>{e(Ln(!1)),ka()&&rs(),n&&window.location.replace("/xppt/")}}},ns=(e,t)=>Ge.exports.padStart(""+e,t,"0"),rt=(e=6)=>{const t="_0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=t.length;let n="";for(let a=0;a<e;a++){const i=Math.floor(Math.random()*r);n+=t[i]}return n},zr=()=>{const e=$(s=>s.slides.theme),t=ve();return{createSlide:()=>{const s={id:rt(8),elements:[],background:{type:"solid",color:e.backgroundColor}};t(ho(s)),t(Ve([]))},createSlideToNext:s=>{const u={id:rt(8),elements:[],background:{type:"solid",color:e.backgroundColor}};t(mo({targetId:s,slide:u})),t(Ve([]))},resetSlides:()=>{const s={id:rt(8),elements:[],background:{type:"solid",color:e.backgroundColor}};t(nt(0)),t(Ve([])),t(Vt([s]))},deleteSlide:s=>{t(Sa(s))},updateSlidesList:s=>{t(Vt(s))}}},as=()=>{var B,M,R,I,P;const e=Ca(),t=Hr(),r=ve(),n=(B=e==null?void 0:e.search)==null?void 0:B.split("&"),a=(R=(M=n[0])==null?void 0:M.split("="))==null?void 0:R[1],i=((P=(I=n[1])==null?void 0:I.split("="))==null?void 0:P[1])==="1",[o,s]=C.exports.useState(!1),{enterScreeningFromStart:u,enterScreening:c}=$r(),p=$(U=>U.slides.slides),l=$(U=>U.slides.slideIndex),{createSlide:d,resetSlides:f,deleteSlide:v}=zr();C.exports.useEffect(()=>{(async()=>{const Y=await Nn.get(`/xppt/ppt/detail?id=${a}`),{data:oe}=Y;oe?(r(Vt(oe)),setTimeout(()=>{i&&u()},100)):r(Vt(bo))})()},[]);const b=()=>p[l]?p[l].id:null,y=(U=!0)=>{U?u():c()};return _("div",{className:"ikppt-editor__header",children:[_("div",{className:"left",children:[_("div",{className:"left-item",onClick:()=>{Go.confirm({title:"\u786E\u5B9A\u8FD4\u56DE\u5217\u8868\u9875\u5417\uFF0C\u672A\u4FDD\u5B58\u6570\u636E\u4F1A\u6E05\u9664\u7684?",icon:m(Wo,{}),onOk(){t(-1)}})},children:[m("i",{className:"iconfont icon-houtui-kong"}),"\u8FD4\u56DE\u5217\u8868\u9875"]}),_("div",{className:"left-item",onClick:async()=>{await Nn.post(Ho.update,{id:a,detail:p}),Yt.success("\u4FDD\u5B58\u6210\u529F"),t(-1)},children:[m("i",{className:"iconfont icon-icon"}),"\u4FDD\u5B58"]}),m(Ut,{overlay:m(qt,{items:[{key:"3",label:m("a",{onClick:()=>d(),children:"\u6DFB\u52A0\u9875\u9762"})},{key:"4",label:m("a",{onClick:()=>v(b()),children:"\u5220\u9664\u9875\u9762"})},{key:"6",label:m("a",{onClick:()=>f(),children:"\u91CD\u7F6E\u5E7B\u706F\u7247"})}]}),children:_("div",{className:"left-item",children:[m("i",{className:"iconfont icon-icon2"}),"\u7F16\u8F91"]})}),m(Ut,{overlay:m(qt,{items:[{key:"1",label:m("a",{onClick:()=>y(!0),children:"\u4ECE\u5934\u5F00\u59CB"})},{key:"2",label:m("a",{onClick:()=>y(!1),children:"\u4ECE\u5F53\u524D\u9875\u5F00\u59CB"})}]}),children:_("div",{className:"left-item",children:[m("i",{className:"iconfont icon-touyingyanshi"}),"\u6F14\u793A"]})}),m("div",{className:"left-item",onClick:()=>s(!0),children:"\u5FEB\u6377\u952E"})]}),m("div",{className:"right",children:m(ke,{placement:"bottom",title:"\u5E7B\u706F\u7247\u653E\u6620",children:m("div",{onClick:u,className:"right-item pointer",children:m("i",{className:"iconfont icon-touyingyanshi"})})})}),m(es,{title:"\u5FEB\u6377\u952E",placement:"right",onClose:()=>s(!1),visible:o})]})};function Oa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$o(e,t)}var Fa=Fe.createContext(null);function is(e){e()}var Ha=is,os=function(t){return Ha=t},ss=function(){return Ha};function ls(){var e=ss(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var zn={notify:function(){},get:function(){return[]}};function Ga(e,t){var r,n=zn;function a(l){return u(),n.subscribe(l)}function i(){n.notify()}function o(){p.onStateChange&&p.onStateChange()}function s(){return Boolean(r)}function u(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=ls())}function c(){r&&(r(),r=void 0,n.clear(),n=zn)}var p={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:s,trySubscribe:u,tryUnsubscribe:c,getListeners:function(){return n}};return p}var Wa=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?C.exports.useLayoutEffect:C.exports.useEffect;function cs(e){var t=e.store,r=e.context,n=e.children,a=C.exports.useMemo(function(){var s=Ga(t);return{store:t,subscription:s}},[t]),i=C.exports.useMemo(function(){return t.getState()},[t]);Wa(function(){var s=a.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),i!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[a,i]);var o=r||Fa;return m(o.Provider,{value:a,children:n})}var $a={exports:{}},pe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=60103,ir=60106,Lt=60107,Et=60108,Mt=60114,Pt=60109,It=60110,Bt=60112,At=60113,Vr=60120,Rt=60115,Nt=60116,za=60121,Va=60122,Ua=60117,qa=60129,Ya=60131;if(typeof Symbol=="function"&&Symbol.for){var we=Symbol.for;ar=we("react.element"),ir=we("react.portal"),Lt=we("react.fragment"),Et=we("react.strict_mode"),Mt=we("react.profiler"),Pt=we("react.provider"),It=we("react.context"),Bt=we("react.forward_ref"),At=we("react.suspense"),Vr=we("react.suspense_list"),Rt=we("react.memo"),Nt=we("react.lazy"),za=we("react.block"),Va=we("react.server.block"),Ua=we("react.fundamental"),qa=we("react.debug_trace_mode"),Ya=we("react.legacy_hidden")}function He(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ar:switch(e=e.type,e){case Lt:case Mt:case Et:case At:case Vr:return e;default:switch(e=e&&e.$$typeof,e){case It:case Bt:case Nt:case Rt:case Pt:return e;default:return t}}case ir:return t}}}var us=Pt,ds=ar,ps=Bt,fs=Lt,vs=Nt,gs=Rt,hs=ir,ms=Mt,bs=Et,xs=At;pe.ContextConsumer=It;pe.ContextProvider=us;pe.Element=ds;pe.ForwardRef=ps;pe.Fragment=fs;pe.Lazy=vs;pe.Memo=gs;pe.Portal=hs;pe.Profiler=ms;pe.StrictMode=bs;pe.Suspense=xs;pe.isAsyncMode=function(){return!1};pe.isConcurrentMode=function(){return!1};pe.isContextConsumer=function(e){return He(e)===It};pe.isContextProvider=function(e){return He(e)===Pt};pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ar};pe.isForwardRef=function(e){return He(e)===Bt};pe.isFragment=function(e){return He(e)===Lt};pe.isLazy=function(e){return He(e)===Nt};pe.isMemo=function(e){return He(e)===Rt};pe.isPortal=function(e){return He(e)===ir};pe.isProfiler=function(e){return He(e)===Mt};pe.isStrictMode=function(e){return He(e)===Et};pe.isSuspense=function(e){return He(e)===At};pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Lt||e===Mt||e===qa||e===Et||e===At||e===Vr||e===Ya||typeof e=="object"&&e!==null&&(e.$$typeof===Nt||e.$$typeof===Rt||e.$$typeof===Pt||e.$$typeof===It||e.$$typeof===Bt||e.$$typeof===Ua||e.$$typeof===za||e[0]===Va)};pe.typeOf=He;$a.exports=pe;var ys=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],ws=["reactReduxForwardedRef"],Cs=[],Ss=[null,null];function Ds(e,t){var r=e[1];return[t.payload,r+1]}function Vn(e,t,r){Wa(function(){return e.apply(void 0,t)},r)}function Ls(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function Es(e,t,r,n,a,i,o,s,u,c){if(!!e){var p=!1,l=null,d=function(){if(!p){var b=t.getState(),y,w;try{y=n(b,a.current)}catch(S){w=S,l=S}w||(l=null),y===i.current?o.current||u():(i.current=y,s.current=y,o.current=!0,c({type:"STORE_UPDATED",payload:{error:w}}))}};r.onStateChange=d,r.trySubscribe(),d();var f=function(){if(p=!0,r.tryUnsubscribe(),r.onStateChange=null,l)throw l};return f}}var Ms=function(){return[null,0]};function Ps(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(D){return"ConnectAdvanced("+D+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,s=r.renderCountProp,u=s===void 0?void 0:s,c=r.shouldHandleStateChanges,p=c===void 0?!0:c,l=r.storeKey,d=l===void 0?"store":l;r.withRef;var f=r.forwardRef,v=f===void 0?!1:f,b=r.context,y=b===void 0?Fa:b,w=Xt(r,ys),S=y;return function(L){var B=L.displayName||L.name||"Component",M=a(B),R=V({},w,{getDisplayName:a,methodName:o,renderCountProp:u,shouldHandleStateChanges:p,storeKey:d,displayName:M,wrappedComponentName:B,WrappedComponent:L}),I=w.pure;function P(K){return e(K.dispatch,R)}var U=I?C.exports.useMemo:function(K){return K()};function Y(K){var W=C.exports.useMemo(function(){var Q=K.reactReduxForwardedRef,se=Xt(K,ws);return[K.context,Q,se]},[K]),O=W[0],re=W[1],de=W[2],ue=C.exports.useMemo(function(){return O&&O.Consumer&&$a.exports.isContextConsumer(Fe.createElement(O.Consumer,null))?O:S},[O,S]),G=C.exports.useContext(ue),z=Boolean(K.store)&&Boolean(K.store.getState)&&Boolean(K.store.dispatch);Boolean(G)&&Boolean(G.store);var F=z?K.store:G.store,J=C.exports.useMemo(function(){return P(F)},[F]),j=C.exports.useMemo(function(){if(!p)return Ss;var Q=Ga(F,z?null:G.subscription),se=Q.notifyNestedSubs.bind(Q);return[Q,se]},[F,z,G]),Z=j[0],k=j[1],H=C.exports.useMemo(function(){return z?G:V({},G,{subscription:Z})},[z,G,Z]),ne=C.exports.useReducer(Ds,Cs,Ms),X=ne[0],ie=X[0],ce=ne[1];if(ie&&ie.error)throw ie.error;var ee=C.exports.useRef(),g=C.exports.useRef(de),x=C.exports.useRef(),h=C.exports.useRef(!1),E=U(function(){return x.current&&de===g.current?x.current:J(F.getState(),de)},[F,ie,de]);Vn(Ls,[g,ee,h,de,E,x,k]),Vn(Es,[p,F,Z,J,g,ee,h,x,k,ce],[F,Z,J]);var N=C.exports.useMemo(function(){return m(L,De(ge({},E),{ref:re}))},[re,L,E]),T=C.exports.useMemo(function(){return p?m(ue.Provider,{value:H,children:N}):N},[ue,N,H]);return T}var oe=I?Fe.memo(Y):Y;if(oe.WrappedComponent=L,oe.displayName=Y.displayName=M,v){var ae=Fe.forwardRef(function(W,O){return m(oe,De(ge({},W),{reactReduxForwardedRef:O}))});return ae.displayName=M,ae.WrappedComponent=L,En(ae,L)}return En(oe,L)}}function Un(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function mr(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Un(e[r[a]],t[r[a]]))return!1;return!0}function Is(e,t){var r={},n=function(o){var s=e[o];typeof s=="function"&&(r[o]=function(){return t(s.apply(void 0,arguments))})};for(var a in e)n(a);return r}function Ur(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function qn(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function Xa(e,t){return function(n,a){a.displayName;var i=function(s,u){return i.dependsOnOwnProps?i.mapToProps(s,u):i.mapToProps(s)};return i.dependsOnOwnProps=!0,i.mapToProps=function(s,u){i.mapToProps=e,i.dependsOnOwnProps=qn(e);var c=i(s,u);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=qn(c),c=i(s,u)),c},i}}function Bs(e){return typeof e=="function"?Xa(e):void 0}function As(e){return e?void 0:Ur(function(t){return{dispatch:t}})}function Rs(e){return e&&typeof e=="object"?Ur(function(t){return Is(e,t)}):void 0}var Ns=[Bs,As,Rs];function Ts(e){return typeof e=="function"?Xa(e):void 0}function ks(e){return e?void 0:Ur(function(){return{}})}var Os=[Ts,ks];function Fs(e,t,r){return V({},r,e,t)}function Hs(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,s;return function(c,p,l){var d=e(c,p,l);return o?(!a||!i(d,s))&&(s=d):(o=!0,s=d),s}}}function Gs(e){return typeof e=="function"?Hs(e):void 0}function Ws(e){return e?void 0:function(){return Fs}}var $s=[Gs,Ws],zs=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Vs(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function Us(e,t,r,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,u=!1,c,p,l,d,f;function v(D,L){return c=D,p=L,l=e(c,p),d=t(n,p),f=r(l,d,p),u=!0,f}function b(){return l=e(c,p),t.dependsOnOwnProps&&(d=t(n,p)),f=r(l,d,p),f}function y(){return e.dependsOnOwnProps&&(l=e(c,p)),t.dependsOnOwnProps&&(d=t(n,p)),f=r(l,d,p),f}function w(){var D=e(c,p),L=!s(D,l);return l=D,L&&(f=r(l,d,p)),f}function S(D,L){var B=!o(L,p),M=!i(D,c);return c=D,p=L,B&&M?b():B?y():M?w():f}return function(L,B){return u?S(L,B):v(L,B)}}function qs(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=Xt(t,zs),o=r(e,i),s=n(e,i),u=a(e,i),c=i.pure?Us:Vs;return c(o,s,u,e,i)}var Ys=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function br(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function Xs(e,t){return e===t}function _s(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Ps:r,a=t.mapStateToPropsFactories,i=a===void 0?Os:a,o=t.mapDispatchToPropsFactories,s=o===void 0?Ns:o,u=t.mergePropsFactories,c=u===void 0?$s:u,p=t.selectorFactory,l=p===void 0?qs:p;return function(f,v,b,y){y===void 0&&(y={});var w=y,S=w.pure,D=S===void 0?!0:S,L=w.areStatesEqual,B=L===void 0?Xs:L,M=w.areOwnPropsEqual,R=M===void 0?mr:M,I=w.areStatePropsEqual,P=I===void 0?mr:I,U=w.areMergedPropsEqual,Y=U===void 0?mr:U,oe=Xt(w,Ys),ae=br(f,i,"mapStateToProps"),K=br(v,s,"mapDispatchToProps"),W=br(b,c,"mergeProps");return n(l,V({methodName:"connect",getDisplayName:function(re){return"Connect("+re+")"},shouldHandleStateChanges:Boolean(f),initMapStateToProps:ae,initMapDispatchToProps:K,initMergeProps:W,pure:D,areStatesEqual:B,areOwnPropsEqual:R,areStatePropsEqual:P,areMergedPropsEqual:Y},oe))}}var _a=_s();os(xo.exports.unstable_batchedUpdates);function js(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ja(e,t){var r=C.exports.useState(function(){return{inputs:t,result:e()}})[0],n=C.exports.useRef(!0),a=C.exports.useRef(r),i=n.current||Boolean(t&&a.current.inputs&&js(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return C.exports.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function Zs(e,t){return ja(function(){return e},t)}var le=ja,q=Zs,Ks=!0,xr="Invariant failed";function Js(e,t){if(!e){if(Ks)throw new Error(xr);var r=typeof t=="function"?t():t,n=r?xr+": "+r:xr;throw new Error(n)}}var Oe=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,s=a-r,u={top:r,right:n,bottom:a,left:i,width:o,height:s,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return u},qr=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Yn=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Qs=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},yr={top:0,right:0,bottom:0,left:0},Yr=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?yr:n,i=t.border,o=i===void 0?yr:i,s=t.padding,u=s===void 0?yr:s,c=Oe(qr(r,a)),p=Oe(Yn(r,o)),l=Oe(Yn(p,u));return{marginBox:c,borderBox:Oe(r),paddingBox:p,contentBox:l,margin:a,border:o,padding:u}},Ae=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Js(!1),a},el=function(){return{x:window.pageXOffset,y:window.pageYOffset}},_t=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,s=Qs(n,r);return Yr({borderBox:s,border:a,margin:i,padding:o})},jt=function(t,r){return r===void 0&&(r=el()),_t(t,r)},Za=function(t,r){var n={top:Ae(r.marginTop),right:Ae(r.marginRight),bottom:Ae(r.marginBottom),left:Ae(r.marginLeft)},a={top:Ae(r.paddingTop),right:Ae(r.paddingRight),bottom:Ae(r.paddingBottom),left:Ae(r.paddingLeft)},i={top:Ae(r.borderTopWidth),right:Ae(r.borderRightWidth),bottom:Ae(r.borderBottomWidth),left:Ae(r.borderLeftWidth)};return Yr({borderBox:t,margin:n,padding:a,border:i})},Ka=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Za(r,n)},Xn=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tl(e,t){return!!(e===t||Xn(e)&&Xn(t))}function rl(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!tl(e[r],t[r]))return!1;return!0}function be(e,t){t===void 0&&(t=rl);var r,n=[],a,i=!1;function o(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return i&&r===this&&t(s,n)||(a=e.apply(this,s),i=!0,r=this,n=s),a}return o}var nl=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){!n||(cancelAnimationFrame(n),n=null)},a},yt=nl;function Ja(e,t){}Ja.bind(null,"warn");Ja.bind(null,"error");function Ue(){}function al(e,t){return V({},e,{},t)}function Ne(e,t,r){var n=t.map(function(a){var i=al(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var il="Invariant failed";function Zt(e){this.message=e}Zt.prototype.toString=function(){return this.message};function A(e,t){if(!e)throw new Zt(il)}var ol=function(e){Oa(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Ue,n.onWindowError=function(s){var u=n.getCallbacks();u.isDragging()&&u.tryAbort();var c=s.error;c instanceof Zt&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=Ne(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Zt){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Fe.Component),sl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Kt=function(t){return t+1},ll=function(t){return`
  You have lifted an item in position `+Kt(t.source.index)+`
`},Qa=function(t,r){var n=t.droppableId===r.droppableId,a=Kt(t.index),i=Kt(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},ei=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},cl=function(t){var r=t.destination;if(r)return Qa(t.source,r);var n=t.combine;return n?ei(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},_n=function(t){return`
  The item has returned to its starting position
  of `+Kt(t.index)+`
`},ul=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+_n(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+Qa(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+ei(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+_n(t.source)+`
  `},Wt={dragHandleUsageInstructions:sl,onDragStart:ll,onDragUpdate:cl,onDragEnd:ul},xe={x:0,y:0},Ce=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Pe=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},qe=function(t,r){return t.x===r.x&&t.y===r.y},lt=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Qe=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},wt=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},jn=function(t,r){return Math.min.apply(Math,r.map(function(n){return wt(t,n)}))},ti=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},dl=function(e,t){var r=Oe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Tt=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Zn=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},pl={top:0,right:0,bottom:0,left:0},fl=function(t,r){return r?Tt(t,r.scroll.diff.displacement):t},vl=function(t,r,n){if(n&&n.increasedBy){var a;return V({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},gl=function(t,r){return r&&r.shouldClipSubject?dl(r.pageMarginBox,t):Oe(t)},it=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=fl(t.marginBox,a),o=vl(i,n,r),s=gl(o,a);return{page:t,withPlaceholder:r,active:s}},Xr=function(e,t){e.frame||A(!1);var r=e.frame,n=Pe(t,r.scroll.initial),a=lt(n),i=V({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=it({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),s=V({},e,{frame:i,subject:o});return s};function Jt(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function _r(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function je(e,t){if(e.find)return e.find(t);var r=_r(e,t);if(r!==-1)return e[r]}function ri(e){return Array.prototype.slice.call(e)}var ni=be(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ai=be(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),or=be(function(e){return Jt(e)}),hl=be(function(e){return Jt(e)}),ct=be(function(e,t){var r=hl(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function jr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function sr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var lr=be(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),ml=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=jr(i);if(!o)return null;function s(b){var y={type:"COMBINE",combine:{draggableId:b,droppableId:n.descriptor.id}};return V({},i,{at:y})}var u=i.displaced.all,c=u.length?u[0]:null;if(t)return c?s(c):null;var p=lr(r,a);if(!c){if(!p.length)return null;var l=p[p.length-1];return s(l.descriptor.id)}var d=_r(p,function(b){return b.descriptor.id===c});d===-1&&A(!1);var f=d-1;if(f<0)return null;var v=p[f];return s(v.descriptor.id)},ut=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ii={point:xe,value:0},Ct={invisible:{},visible:{},all:[]},bl={displaced:Ct,displacedBy:ii,at:null},Te=function(e,t){return function(r){return e<=r&&r<=t}},oi=function(e){var t=Te(e.top,e.bottom),r=Te(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),s=i&&o;if(s)return!0;var u=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right,p=u&&c;if(p)return!0;var l=u&&o||c&&i;return l}},xl=function(e){var t=Te(e.top,e.bottom),r=Te(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},Zr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},si={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},yl=function(e){return function(t){var r=Te(t.top,t.bottom),n=Te(t.left,t.right);return function(a){return e===Zr?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},wl=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:xe;return Tt(t,n)},Cl=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Sl=function(t,r,n){return n(r)(t)},Kr=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=i?wl(r,n):r;return Cl(s,n,o)&&Sl(s,a,o)},Dl=function(t){return Kr(V({},t,{isVisibleThroughFrameFn:oi}))},li=function(t){return Kr(V({},t,{isVisibleThroughFrameFn:xl}))},Ll=function(t){return Kr(V({},t,{isVisibleThroughFrameFn:yl(t.destination.axis)}))},El=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function Ml(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Oe(qr(r,n))}function St(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(u,c){var p=Ml(c,n),l=c.descriptor.id;u.all.push(l);var d=Dl({target:p,destination:r,viewport:a,withDroppableDisplacement:!0});if(!d)return u.invisible[c.descriptor.id]=!0,u;var f=El(l,o,i),v={draggableId:l,shouldAnimate:f};return u.visible[l]=v,u},{all:[],visible:{},invisible:{}})}function Pl(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Kn(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=Pl(t,{inHomeList:r});return{displaced:Ct,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Qt(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,s=e.index,u=e.forceShouldAnimate,c=ut(t,n);if(s==null)return Kn({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var p=je(r,function(b){return b.descriptor.index===s});if(!p)return Kn({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var l=lr(t,r),d=r.indexOf(p),f=l.slice(d),v=St({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:u});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function _e(e,t){return Boolean(t.effected[e])}var Il=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,s=n[o],u=s.descriptor.index,c=_e(o,i);return c?t?u:u-1:t?u+1:u},Bl=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,s=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=r?u:u+1;return o<s||o>c?null:o},Al=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,s=e.previousImpact,u=e.viewport,c=e.afterCritical,p=s.at;if(p||A(!1),p.type==="REORDER"){var l=Bl({isMovingForward:t,isInHomeList:r,location:p.destination,insideDestination:o});return l==null?null:Qt({draggable:n,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:l})}var d=Il({isMovingForward:t,destination:i,displaced:s.displaced,draggables:a,combine:p.combine,afterCritical:c});return d==null?null:Qt({draggable:n,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:d})},Rl=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return _e(n,r)?i?xe:lt(a.point):i?a.point:xe},Nl=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=sr(r);a||A(!1);var i=a.draggableId,o=n[i].page.borderBox.center,s=Rl({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Ce(o,s)},ci=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Tl=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Jr=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Jn=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Qe(r.line,n.marginBox[r.end]+ci(r,a),Jr(r,n.marginBox,a))},Qn=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return Qe(r.line,n.marginBox[r.start]-Tl(r,a),Jr(r,n.marginBox,a))},kl=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return Qe(r.line,n.contentBox[r.start]+ci(r,a),Jr(r,n.contentBox,a))},Ol=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=ct(a.descriptor.id,n),s=r.page,u=a.axis;if(!o.length)return kl({axis:u,moveInto:a.page,isMoving:s});var c=t.displaced,p=t.displacedBy,l=c.all[0];if(l){var d=n[l];if(_e(l,i))return Qn({axis:u,moveRelativeTo:d.page,isMoving:s});var f=_t(d.page,p.point);return Qn({axis:u,moveRelativeTo:f,isMoving:s})}var v=o[o.length-1];if(v.descriptor.id===r.descriptor.id)return s.borderBox.center;if(_e(v.descriptor.id,i)){var b=_t(v.page,lt(i.displacedBy.point));return Jn({axis:u,moveRelativeTo:b,isMoving:s})}return Jn({axis:u,moveRelativeTo:v.page,isMoving:s})},Rr=function(e,t){var r=e.frame;return r?Ce(t,r.scroll.diff.displacement):t},Fl=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,s=n.page.borderBox.center,u=r.at;return!a||!u?s:u.type==="REORDER"?Ol({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:o}):Nl({impact:r,draggables:i,afterCritical:o})},cr=function(e){var t=Fl(e),r=e.droppable,n=r?Rr(r,t):t;return n},ui=function(e,t){var r=Pe(t,e.scroll.initial),n=lt(r),a=Oe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function ea(e,t){return e.map(function(r){return t[r]})}function Hl(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Gl=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=ui(r,Ce(r.scroll.current,i)),s=n.frame?Xr(n,Ce(n.frame.scroll.current,i)):n,u=t.displaced,c=St({afterDragging:ea(u.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),p=St({afterDragging:ea(u.all,a),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),l={},d={},f=[u,c,p];u.all.forEach(function(b){var y=Hl(b,f);if(y){d[b]=y;return}l[b]=!0});var v=V({},t,{displaced:{all:u.all,invisible:l,visible:d}});return v},Wl=function(e,t){return Ce(e.scroll.diff.displacement,t)},Qr=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=Wl(n,t),i=Pe(a,r.page.borderBox.center);return Ce(r.client.borderBox.center,i)},di=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,u=Pe(n,t.page.borderBox.center),c=Tt(t.page.borderBox,u),p={target:c,destination:r,withDroppableDisplacement:i,viewport:a};return s?Ll(p):li(p)},$l=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,u=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var p=ct(n.descriptor.id,a),l=ut(r,n),d=ml({isMovingForward:t,draggable:r,destination:n,insideDestination:p,previousImpact:i})||Al({isMovingForward:t,isInHomeList:l,draggable:r,draggables:a,destination:n,insideDestination:p,previousImpact:i,viewport:o,afterCritical:c});if(!d)return null;var f=cr({impact:d,draggable:r,droppable:n,draggables:a,afterCritical:c}),v=di({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var b=Qr({pageBorderBoxCenter:f,draggable:r,viewport:o});return{clientSelection:b,impact:d,scrollJumpRequest:null}}var y=Pe(f,s),w=Gl({impact:d,viewport:o,destination:n,draggables:a,maxScrollChange:y});return{clientSelection:u,impact:w,scrollJumpRequest:y}},Le=function(t){var r=t.subject.active;return r||A(!1),r},zl=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,u=Te(o[s.start],o[s.end]),c=or(a).filter(function(l){return l!==n}).filter(function(l){return l.isEnabled}).filter(function(l){return Boolean(l.subject.active)}).filter(function(l){return oi(i.frame)(Le(l))}).filter(function(l){var d=Le(l);return t?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(l){var d=Le(l),f=Te(d[s.start],d[s.end]);return u(d[s.start])||u(d[s.end])||f(o[s.start])||f(o[s.end])}).sort(function(l,d){var f=Le(l)[s.crossAxisStart],v=Le(d)[s.crossAxisStart];return t?f-v:v-f}).filter(function(l,d,f){return Le(l)[s.crossAxisStart]===Le(f[0])[s.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var p=c.filter(function(l){var d=Te(Le(l)[s.start],Le(l)[s.end]);return d(r[s.line])});return p.length===1?p[0]:p.length>1?p.sort(function(l,d){return Le(l)[s.start]-Le(d)[s.start]})[0]:c.sort(function(l,d){var f=jn(r,Zn(Le(l))),v=jn(r,Zn(Le(d)));return f!==v?f-v:Le(l)[s.start]-Le(d)[s.start]})[0]},ta=function(t,r){var n=t.page.borderBox.center;return _e(t.descriptor.id,r)?Pe(n,r.displacedBy.point):n},Vl=function(t,r){var n=t.page.borderBox;return _e(t.descriptor.id,r)?Tt(n,lt(r.displacedBy.point)):n},Ul=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(s){return li({target:Vl(s,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,u){var c=wt(t,Rr(n,ta(s,i))),p=wt(t,Rr(n,ta(u,i)));return c<p?-1:p<c?1:s.descriptor.index-u.descriptor.index});return o[0]||null},kt=be(function(t,r){var n=r[t.line];return{value:n,point:Qe(t.line,n)}}),ql=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return Qe(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=ct(t.descriptor.id,n),s=o.reduce(function(p,l){return p+l.client.marginBox[a.size]},0),u=s+r[a.line],c=u-i;return c<=0?null:Qe(a.line,c)},pi=function(t,r){return V({},t,{scroll:V({},t.scroll,{max:r})})},fi=function(t,r,n){var a=t.frame;ut(r,t)&&A(!1),t.subject.withPlaceholder&&A(!1);var i=kt(t.axis,r.displaceBy).point,o=ql(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var u=it({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return V({},t,{subject:u})}var c=o?Ce(a.scroll.max,o):a.scroll.max,p=pi(a,c),l=it({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:p});return V({},t,{subject:l,frame:p})},Yl=function(t){var r=t.subject.withPlaceholder;r||A(!1);var n=t.frame;if(!n){var a=it({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return V({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||A(!1);var o=pi(n,i),s=it({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return V({},t,{subject:s,frame:o})},Xl=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,s=e.viewport,u=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:Ct,displacedBy:ii,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=cr({impact:c,draggable:a,droppable:o,draggables:i,afterCritical:u}),l=ut(a,o)?o:fi(o,a,i),d=di({draggable:a,destination:l,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?c:null}var f=Boolean(t[o.axis.line]<=r.page.borderBox.center[o.axis.line]),v=function(){var y=r.descriptor.index;return r.descriptor.id===a.descriptor.id||f?y:y+1}(),b=kt(o.axis,a.displaceBy);return Qt({draggable:a,insideDestination:n,destination:o,viewport:s,displacedBy:b,last:Ct,index:v})},_l=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,s=e.viewport,u=e.afterCritical,c=zl({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:s});if(!c)return null;var p=ct(c.descriptor.id,i),l=Ul({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:p,afterCritical:u}),d=Xl({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:i,moveRelativeTo:l,insideDestination:p,viewport:s,afterCritical:u});if(!d)return null;var f=cr({impact:d,draggable:n,droppable:c,draggables:i,afterCritical:u}),v=Qr({pageBorderBoxCenter:f,draggable:n,viewport:s});return{clientSelection:v,impact:d,scrollJumpRequest:null}},Ie=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},jl=function(t,r){var n=Ie(t);return n?r[n]:null},Zl=function(e){var t=e.state,r=e.type,n=jl(t.impact,t.dimensions.droppables),a=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,u=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!a)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",p=t.dimensions.draggables[t.critical.draggable.id],l=t.current.page.borderBoxCenter,d=t.dimensions,f=d.draggables,v=d.droppables;return u?$l({isMovingForward:c,previousPageBorderBoxCenter:l,draggable:p,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):_l({isMovingForward:c,previousPageBorderBoxCenter:l,draggable:p,isOver:o,draggables:f,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function Je(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function vi(e){var t=Te(e.top,e.bottom),r=Te(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function Kl(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Jl(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(o){var s=o.axis,u=Qe(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:wt(a,u)}}).sort(function(o,s){return s.distance-o.distance});return i[0]?i[0].id:null}function Ql(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=or(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!Kl(t,o))return!1;if(vi(o)(t.center))return!0;var s=i.axis,u=o.center[s.crossAxisLine],c=t[s.crossAxisStart],p=t[s.crossAxisEnd],l=Te(o[s.crossAxisStart],o[s.crossAxisEnd]),d=l(c),f=l(p);return!d&&!f?!0:d?c<u:p>u});return a.length?a.length===1?a[0].descriptor.id:Jl({pageBorderBox:t,draggable:r,candidates:a}):null}var gi=function(t,r){return Oe(Tt(t,r))},ec=function(e,t){var r=e.frame;return r?gi(t,r.scroll.diff.value):t};function hi(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}function tc(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var rc=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,s=e.afterCritical,u=n.axis,c=kt(n.axis,r.displaceBy),p=c.value,l=t[u.start],d=t[u.end],f=lr(r,a),v=je(f,function(y){var w=y.descriptor.id,S=y.page.borderBox.center[u.line],D=_e(w,s),L=hi({displaced:i,id:w});return D?L?d<=S:l<S-p:L?d<=S+p:l<S}),b=tc({draggable:r,closest:v,inHomeList:ut(r,n)});return Qt({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:c,index:b})},nc=4,ac=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var s=a.axis,u=kt(a.axis,t.displaceBy),c=u.value,p=r[s.start],l=r[s.end],d=lr(t,i),f=je(d,function(b){var y=b.descriptor.id,w=b.page.borderBox,S=w[s.size],D=S/nc,L=_e(y,o),B=hi({displaced:n.displaced,id:y});return L?B?l>w[s.start]+D&&l<w[s.end]-D:p>w[s.start]-c+D&&p<w[s.end]-c-D:B?l>w[s.start]+c+D&&l<w[s.end]+c-D:p>w[s.start]+D&&p<w[s.end]-D});if(!f)return null;var v={displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:a.descriptor.id}}};return v},mi=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,s=e.afterCritical,u=gi(r.page.borderBox,t),c=Ql({pageBorderBox:u,draggable:r,droppables:a});if(!c)return bl;var p=a[c],l=ct(p.descriptor.id,n),d=ec(p,u);return ac({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:p,insideDestination:l,afterCritical:s})||rc({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:p,insideDestination:l,last:i.displaced,viewport:o,afterCritical:s})},en=function(e,t){var r;return V({},e,(r={},r[t.descriptor.id]=t,r))},ic=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=Ie(r),o=Ie(n);if(!i||i===o)return a;var s=a[i];if(!s.subject.withPlaceholder)return a;var u=Yl(s);return en(a,u)},oc=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=ic({previousImpact:a,impact:i,droppables:n}),s=Ie(i);if(!s)return o;var u=n[s];if(ut(t,u)||u.subject.withPlaceholder)return o;var c=fi(u,t,r);return en(o,c)},ht=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,s=a||t.viewport,u=n||t.dimensions,c=r||t.current.client.selection,p=Pe(c,t.initial.client.selection),l={offset:p,selection:c,borderBoxCenter:Ce(t.initial.client.borderBoxCenter,p)},d={selection:Ce(l.selection,s.scroll.current),borderBoxCenter:Ce(l.borderBoxCenter,s.scroll.current),offset:Ce(l.offset,s.scroll.diff.value)},f={client:l,page:d};if(t.phase==="COLLECTING")return V({phase:"COLLECTING"},t,{dimensions:u,viewport:s,current:f});var v=u.draggables[t.critical.draggable.id],b=i||mi({pageOffset:d.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),y=oc({draggable:v,impact:b,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables}),w=V({},t,{current:f,dimensions:{draggables:u.draggables,droppables:y},impact:b,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return w};function sc(e,t){return e.map(function(r){return t[r]})}var bi=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,s=sc(o.all,n),u=St({afterDragging:s,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return V({},t,{displaced:u})},xi=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,s=cr({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return Qr({pageBorderBoxCenter:s,draggable:r,viewport:i})},yi=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&A(!1);var a=t.impact,i=n||t.viewport,o=r||t.dimensions,s=o.draggables,u=o.droppables,c=s[t.critical.draggable.id],p=Ie(a);p||A(!1);var l=u[p],d=bi({impact:a,viewport:i,destination:l,draggables:s}),f=xi({impact:d,draggable:c,droppable:l,draggables:s,viewport:i,afterCritical:t.afterCritical});return ht({impact:d,clientSelection:f,state:t,dimensions:o,viewport:i})},lc=function(e){return{index:e.index,droppableId:e.droppableId}},wi=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=kt(r.axis,t.displaceBy),o=ct(r.descriptor.id,n),s=o.indexOf(t);s===-1&&A(!1);var u=o.slice(s+1),c=u.reduce(function(f,v){return f[v.descriptor.id]=!0,f},{}),p={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:c},l=St({afterDragging:u,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),d={displaced:l,displacedBy:i,at:{type:"REORDER",destination:lc(t.descriptor)}};return{impact:d,afterCritical:p}},cc=function(e,t){return{draggables:e.draggables,droppables:en(e.droppables,t)}},uc=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=_t(t.client,r),i=jt(a,n),o=V({},t,{placeholder:V({},t.placeholder,{client:a}),client:a,page:i});return o},dc=function(e){var t=e.frame;return t||A(!1),t},pc=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,s=r[o],u=dc(s),c=u.scroll.diff.value,p=Ce(a,c),l=uc({draggable:i,offset:p,initialWindowScroll:n.scroll.initial});return l})},fc=function(e){var t=e.state,r=e.published,n=r.modified.map(function(D){var L=t.dimensions.droppables[D.droppableId],B=Xr(L,D.scroll);return B}),a=V({},t.dimensions.droppables,{},ni(n)),i=ai(pc({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=V({},t.dimensions.draggables,{},i);r.removals.forEach(function(D){delete o[D]});var s={droppables:a,draggables:o},u=Ie(t.impact),c=u?s.droppables[u]:null,p=s.draggables[t.critical.draggable.id],l=s.droppables[t.critical.droppable.id],d=wi({draggable:p,home:l,draggables:o,viewport:t.viewport}),f=d.impact,v=d.afterCritical,b=c&&c.isCombineEnabled?t.impact:f,y=mi({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:b,viewport:t.viewport,afterCritical:v}),w=V({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:f,dimensions:s,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var S=V({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return S},Nr=function(t){return t.movementMode==="SNAP"},wr=function(t,r,n){var a=cc(t.dimensions,r);return!Nr(t)||n?ht({state:t,dimensions:a}):yi({state:t,dimensions:a})};function Cr(e){return e.isDragging&&e.movementMode==="SNAP"?V({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ra={phase:"IDLE",completed:null,shouldFlush:!1},vc=function(e,t){if(e===void 0&&(e=ra),t.type==="FLUSH")return V({},ra,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&A(!1);var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,s=r.movementMode,u=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],p={selection:a,borderBoxCenter:u.client.borderBox.center,offset:xe},l={client:p,page:{selection:Ce(p.selection,i.scroll.initial),borderBoxCenter:Ce(p.selection,i.scroll.initial),offset:Ce(p.selection,i.scroll.diff.value)}},d=or(o.droppables).every(function(ce){return!ce.isFixedOnPage}),f=wi({draggable:u,home:c,draggables:o.draggables,viewport:i}),v=f.impact,b=f.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:l,current:l,isWindowScrollAllowed:d,impact:v,afterCritical:b,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&A(!1);var w=V({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||A(!1),fc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Je(e)||A(!1);var S=t.payload.client;return qe(S,e.current.client.selection)?e:ht({state:e,clientSelection:S,impact:Nr(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Cr(e);Je(e)||A(!1);var D=t.payload,L=D.id,B=D.newScroll,M=e.dimensions.droppables[L];if(!M)return e;var R=Xr(M,B);return wr(e,R,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Je(e)||A(!1);var I=t.payload,P=I.id,U=I.isEnabled,Y=e.dimensions.droppables[P];Y||A(!1),Y.isEnabled===U&&A(!1);var oe=V({},Y,{isEnabled:U});return wr(e,oe,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Je(e)||A(!1);var ae=t.payload,K=ae.id,W=ae.isCombineEnabled,O=e.dimensions.droppables[K];O||A(!1),O.isCombineEnabled===W&&A(!1);var re=V({},O,{isCombineEnabled:W});return wr(e,re,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Je(e)||A(!1),e.isWindowScrollAllowed||A(!1);var de=t.payload.newScroll;if(qe(e.viewport.scroll.current,de))return Cr(e);var ue=ui(e.viewport,de);return Nr(e)?yi({state:e,viewport:ue}):ht({state:e,viewport:ue})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Je(e))return e;var G=t.payload.maxScroll;if(qe(G,e.viewport.scroll.max))return e;var z=V({},e.viewport,{scroll:V({},e.viewport.scroll,{max:G})});return V({phase:"DRAGGING"},e,{viewport:z})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&A(!1);var F=Zl({state:e,type:t.type});return F?ht({state:e,impact:F.impact,clientSelection:F.clientSelection,scrollJumpRequest:F.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var J=t.payload.reason;e.phase!=="COLLECTING"&&A(!1);var j=V({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:J});return j}if(t.type==="DROP_ANIMATE"){var Z=t.payload,k=Z.completed,H=Z.dropDuration,ne=Z.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||A(!1);var X={phase:"DROP_ANIMATING",completed:k,dropDuration:H,newHomeClientOffset:ne,dimensions:e.dimensions};return X}if(t.type==="DROP_COMPLETE"){var ie=t.payload.completed;return{phase:"IDLE",completed:ie,shouldFlush:!1}}return e},gc=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},hc=function(t){return{type:"LIFT",payload:t}},mc=function(t){return{type:"INITIAL_PUBLISH",payload:t}},bc=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},xc=function(){return{type:"COLLECTION_STARTING",payload:null}},yc=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},wc=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Cc=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Ci=function(t){return{type:"MOVE",payload:t}},Sc=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Dc=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Lc=function(){return{type:"MOVE_UP",payload:null}},Ec=function(){return{type:"MOVE_DOWN",payload:null}},Mc=function(){return{type:"MOVE_RIGHT",payload:null}},Pc=function(){return{type:"MOVE_LEFT",payload:null}},tn=function(){return{type:"FLUSH",payload:null}},Ic=function(t){return{type:"DROP_ANIMATE",payload:t}},rn=function(t){return{type:"DROP_COMPLETE",payload:t}},Si=function(t){return{type:"DROP",payload:t}},Bc=function(t){return{type:"DROP_PENDING",payload:t}},Di=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Ac=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,s=o.id,u=o.clientSelection,c=o.movementMode,p=r();p.phase==="DROP_ANIMATING"&&n(rn({completed:p.completed})),r().phase!=="IDLE"&&A(!1),n(tn()),n(gc({draggableId:s,movementMode:c}));var l={shouldPublishImmediately:c==="SNAP"},d={draggableId:s,scrollOptions:l},f=e.startPublishing(d),v=f.critical,b=f.dimensions,y=f.viewport;n(mc({critical:v,dimensions:b,clientSelection:u,movementMode:c,viewport:y}))}}}},Rc=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},nn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Dt={opacity:{drop:0,combining:.7},scale:{drop:.75}},an={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ke=an.outOfTheWay+"s "+nn.outOfTheWay,mt={fluid:"opacity "+Ke,snap:"transform "+Ke+", opacity "+Ke,drop:function(t){var r=t+"s "+nn.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Ke,placeholder:"height "+Ke+", width "+Ke+", margin "+Ke},na=function(t){return qe(t,xe)?null:"translate("+t.x+"px, "+t.y+"px)"},Tr={moveTo:na,drop:function(t,r){var n=na(t);return n?r?n+" scale("+Dt.scale.drop+")":n:null}},kr=an.minDropTime,Li=an.maxDropTime,Nc=Li-kr,aa=1500,Tc=.6,kc=function(e){var t=e.current,r=e.destination,n=e.reason,a=wt(t,r);if(a<=0)return kr;if(a>=aa)return Li;var i=a/aa,o=kr+Nc*i,s=n==="CANCEL"?o*Tc:o;return Number(s.toFixed(2))},Oc=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,s=n.droppables,u=Ie(t),c=u?s[u]:null,p=s[r.descriptor.droppableId],l=xi({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:c||p,viewport:a}),d=Pe(l,r.client.borderBox.center);return d},Fc=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=bi({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var u=V({},n,{displaced:Ct});return{impact:u,didDropInsideDroppable:!0}},Hc=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(Bc({reason:o}));return}if(i.phase!=="IDLE"){var s=i.phase==="DROP_PENDING"&&i.isWaiting;s&&A(!1),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||A(!1);var u=i.critical,c=i.dimensions,p=c.draggables[i.critical.draggable.id],l=Fc({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=l.impact,f=l.didDropInsideDroppable,v=f?jr(d):null,b=f?sr(d):null,y={index:u.draggable.index,droppableId:u.droppable.id},w={draggableId:p.descriptor.id,type:p.descriptor.type,source:y,reason:o,mode:i.movementMode,destination:v,combine:b},S=Oc({impact:d,draggable:p,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),D={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:d},L=!qe(i.current.client.offset,S)||Boolean(w.combine);if(!L){r(rn({completed:D}));return}var B=kc({current:i.current.client.offset,destination:S,reason:o}),M={newHomeClientOffset:S,dropDuration:B,completed:D};r(Ic(M))}}}},Ei=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Gc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Wc(e){var t=e.onWindowScroll;function r(){t(Ei())}var n=yt(r),a=Gc(n),i=Ue;function o(){return i!==Ue}function s(){o()&&A(!1),i=Ne(window,[a])}function u(){o()||A(!1),n.cancel(),i(),i=Ue}return{start:s,stop:u,isActive:o}}var $c=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},zc=function(e){var t=Wc({onWindowScroll:function(n){e.dispatch(Sc({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&$c(n)&&t.stop(),r(n)}}},Vc=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},Uc=function(){var e=[],t=function(i){var o=_r(e,function(c){return c.timerId===i});o===-1&&A(!1);var s=e.splice(o,1),u=s[0];u.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:i};e.push(s)},n=function(){if(!!e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},qc=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Yc=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},Xc=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},pt=function(t,r){r()},Ot=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Sr=function(t,r,n,a){if(!t){n(a(r));return}var i=Vc(n),o={announce:i};t(r,o),i.wasCalled()||n(a(r))},_c=function(e,t){var r=Uc(),n=null,a=function(d,f){n&&A(!1),pt("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var b={draggableId:d,mode:f};v(b)}})},i=function(d,f){n&&A(!1),pt("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Ot(d,f))})},o=function(d,f){n&&A(!1);var v=Ot(d,f);n={mode:f,lastCritical:d,lastLocation:v.source,lastCombine:null},r.add(function(){pt("onDragStart",function(){return Sr(e().onDragStart,v,t,Wt.onDragStart)})})},s=function(d,f){var v=jr(f),b=sr(f);n||A(!1);var y=!Xc(d,n.lastCritical);y&&(n.lastCritical=d);var w=!qc(n.lastLocation,v);w&&(n.lastLocation=v);var S=!Yc(n.lastCombine,b);if(S&&(n.lastCombine=b),!(!y&&!w&&!S)){var D=V({},Ot(d,n.mode),{combine:b,destination:v});r.add(function(){pt("onDragUpdate",function(){return Sr(e().onDragUpdate,D,t,Wt.onDragUpdate)})})}},u=function(){n||A(!1),r.flush()},c=function(d){n||A(!1),n=null,pt("onDragEnd",function(){return Sr(e().onDragEnd,d,t,Wt.onDragEnd)})},p=function(){if(!!n){var d=V({},Ot(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(d)}};return{beforeCapture:a,beforeStart:i,start:o,update:s,flush:u,drop:c,abort:p}},jc=function(e,t){var r=_c(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var s=i.payload.completed.result;r.flush(),a(i),r.drop(s);return}if(a(i),i.type==="FLUSH"){r.abort();return}var u=n.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},Zc=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&A(!1),e.dispatch(rn({completed:n.completed}))}}},Kc=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=e.getState();u.phase==="DROP_ANIMATING"&&e.dispatch(Di())}};r=requestAnimationFrame(function(){r=null,t=Ne(window,[o])})}}}},Jc=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},Qc=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},eu=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},tu=function(e){return function(t){return function(r){return function(n){if(eu(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&A(!1),e.start(a);return}r(n),e.scroll(t.getState())}}}},ru=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Si({reason:n.reason})))}}}},nu=So,au=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return yo(vc,nu(wo(Rc(n),Jc(t),Ac(t),Hc,Zc,Kc,ru,tu(o),zc,Qc(r),jc(a,i))))},Dr=function(){return{additions:{},removals:{},modified:{}}};function iu(e){var t=e.registry,r=e.callbacks,n=Dr(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var p=n,l=p.additions,d=p.removals,f=p.modified,v=Object.keys(l).map(function(w){return t.draggable.getById(w).getDimension(xe)}).sort(function(w,S){return w.descriptor.index-S.descriptor.index}),b=Object.keys(f).map(function(w){var S=t.droppable.getById(w),D=S.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:D}}),y={additions:v,removals:Object.keys(d),modified:b};n=Dr(),r.publish(y)}))},o=function(p){var l=p.descriptor.id;n.additions[l]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[l]&&delete n.removals[l],i()},s=function(p){var l=p.descriptor;n.removals[l.id]=!0,n.modified[l.droppableId]=!0,n.additions[l.id]&&delete n.additions[l.id],i()},u=function(){!a||(cancelAnimationFrame(a),a=null,n=Dr())};return{add:o,remove:s,stop:u}}var Mi=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=Pe({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},Pi=function(){var e=document.documentElement;return e||A(!1),e},Ii=function(){var e=Pi(),t=Mi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},ou=function(){var e=Ei(),t=Ii(),r=e.y,n=e.x,a=Pi(),i=a.clientWidth,o=a.clientHeight,s=n+i,u=r+o,c=Oe({top:r,left:n,right:s,bottom:u}),p={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:xe,displacement:xe}}};return p},su=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=ou(),i=a.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(function(l){return l.callbacks.getDimensionAndWatchScroll(i,r)}),u=n.draggable.getAllByType(t.draggable.type).map(function(l){return l.getDimension(i)}),c={draggables:ai(u),droppables:ni(s)},p={dimensions:c,critical:t,viewport:a};return p};function ia(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var lu=function(e,t){var r=null,n=iu({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(f,v){e.droppable.exists(f)||A(!1),r&&t.updateDroppableIsEnabled({id:f,isEnabled:v})},i=function(f,v){!r||(e.droppable.exists(f)||A(!1),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:v}))},o=function(f,v){!r||(e.droppable.exists(f)||A(!1),t.updateDroppableScroll({id:f,newScroll:v}))},s=function(f,v){!r||e.droppable.getById(f).callbacks.scroll(v)},u=function(){if(!!r){n.stop();var f=r.critical.droppable;e.droppable.getAllByType(f.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(f){r||A(!1);var v=r.critical.draggable;f.type==="ADDITION"&&ia(e,v,f.value)&&n.add(f.value),f.type==="REMOVAL"&&ia(e,v,f.value)&&n.remove(f.value)},p=function(f){r&&A(!1);var v=e.draggable.getById(f.draggableId),b=e.droppable.getById(v.descriptor.droppableId),y={draggable:v.descriptor,droppable:b.descriptor},w=e.subscribe(c);return r={critical:y,unsubscribe:w},su({critical:y,registry:e,scrollOptions:f.scrollOptions})},l={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:s,updateDroppableScroll:o,startPublishing:p,stopPublishing:u};return l},Bi=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},cu=function(e){window.scrollBy(e.x,e.y)},uu=be(function(e){return or(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),du=function(t,r){var n=je(uu(r),function(a){return a.frame||A(!1),vi(a.frame.pageMarginBox)(t)});return n},pu=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=du(t,n);return i},Ye={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},fu=function(e,t){var r=e[t.size]*Ye.startFromPercentage,n=e[t.size]*Ye.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},Ai=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,o=i/a;return o},on=1,vu=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ye.maxPixelScroll;if(e===t.startScrollingFrom)return on;var r=Ai({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=Ye.maxPixelScroll*Ye.ease(n);return Math.ceil(a)},oa=Ye.durationDampening.accelerateAt,sa=Ye.durationDampening.stopDampeningAt,gu=function(e,t){var r=t,n=sa,a=Date.now(),i=a-r;if(i>=sa)return e;if(i<oa)return on;var o=Ai({startOfRange:oa,endOfRange:n,current:i}),s=e*Ye.ease(o);return Math.ceil(s)},la=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=vu(t,r);return i===0?0:a?Math.max(gu(i,n),on):i},ca=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=fu(t,a),s=r[a.end]<r[a.start];return s?la({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*la({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},hu=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},mu=ti(function(e){return e===0?0:e}),Ri=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},s=ca({container:r,distanceToEdges:o,dragStartTime:t,axis:Zr,shouldUseTimeDampening:i}),u=ca({container:r,distanceToEdges:o,dragStartTime:t,axis:si,shouldUseTimeDampening:i}),c=mu({x:u,y:s});if(qe(c,xe))return null;var p=hu({container:r,subject:n,proposedScroll:c});return p?qe(p,xe)?null:p:null},bu=ti(function(e){return e===0?0:e>0?1:-1}),sn=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=Ce(r,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return qe(o,xe)?null:o}}(),Ni=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=bu(a),s=sn({max:i,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},ln=function(t,r){return Ni({current:t.scroll.current,max:t.scroll.max,change:r})},xu=function(t,r){if(!ln(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return sn({current:a,max:n,change:r})},cn=function(t,r){var n=t.frame;return n?Ni({current:n.scroll.current,max:n.scroll.max,change:r}):!1},yu=function(t,r){var n=t.frame;return!n||!cn(t,r)?null:sn({current:n.scroll.current,max:n.scroll.max,change:r})},wu=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Ri({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&ln(t,o)?o:null},Cu=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=Ri({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&cn(t,s)?s:null},ua=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],u=s.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,p=wu({dragStartTime:r,viewport:c,subject:u,center:o,shouldUseTimeDampening:n});if(p){a(p);return}}var l=pu({center:o,destination:Ie(t.impact),droppables:t.dimensions.droppables});if(!!l){var d=Cu({dragStartTime:r,droppable:l,subject:u,center:o,shouldUseTimeDampening:n});d&&i(l.descriptor.id,d)}},Su=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=yt(t),a=yt(r),i=null,o=function(p){i||A(!1);var l=i,d=l.shouldUseTimeDampening,f=l.dragStartTime;ua({state:p,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:d})},s=function(p){i&&A(!1);var l=Date.now(),d=!1,f=function(){d=!0};ua({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),i={dragStartTime:l,shouldUseTimeDampening:d},d&&o(p)},u=function(){!i||(n.cancel(),a.cancel(),i=null)};return{start:s,stop:u,scroll:o}},Du=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(c,p){var l=Ce(c.current.client.selection,p);t({client:l})},i=function(c,p){if(!cn(c,p))return p;var l=yu(c,p);if(!l)return r(c.descriptor.id,p),null;var d=Pe(p,l);r(c.descriptor.id,d);var f=Pe(p,d);return f},o=function(c,p,l){if(!c||!ln(p,l))return l;var d=xu(p,l);if(!d)return n(l),null;var f=Pe(l,d);n(f);var v=Pe(l,f);return v},s=function(c){var p=c.scrollJumpRequest;if(!!p){var l=Ie(c.impact);l||A(!1);var d=i(c.dimensions.droppables[l],p);if(!!d){var f=c.viewport,v=o(c.isWindowScrollAllowed,f,d);!v||a(c,v)}}};return s},Lu=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=Su({scrollWindow:r,scrollDroppable:t}),i=Du({move:n,scrollWindow:r,scrollDroppable:t}),o=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){a.scroll(c);return}!c.scrollJumpRequest||i(c)}},s={scroll:o,start:a.start,stop:a.stop};return s},ot="data-rbd",st=function(){var e=ot+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Or=function(){var e=ot+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Eu=function(){var e=ot+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),da={contextId:ot+"-scroll-container-context-id"},Mu=function(t){return function(r){return"["+r+'="'+t+'"]'}},ft=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Pu="pointer-events: none;",Iu=function(e){var t=Mu(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(st.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:Pu,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+mt.outOfTheWay+`;
    `;return{selector:t(Or.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),a={selector:t(Eu.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,i];return{always:ft(o,"always"),resting:ft(o,"resting"),dragging:ft(o,"dragging"),dropAnimating:ft(o,"dropAnimating"),userCancel:ft(o,"userCancel")}},Be=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?C.exports.useLayoutEffect:C.exports.useEffect,Lr=function(){var t=document.querySelector("head");return t||A(!1),t},pa=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Bu(e,t){var r=le(function(){return Iu(e)},[e]),n=C.exports.useRef(null),a=C.exports.useRef(null),i=q(be(function(l){var d=a.current;d||A(!1),d.textContent=l}),[]),o=q(function(l){var d=n.current;d||A(!1),d.textContent=l},[]);Be(function(){!n.current&&!a.current||A(!1);var l=pa(t),d=pa(t);return n.current=l,a.current=d,l.setAttribute(ot+"-always",e),d.setAttribute(ot+"-dynamic",e),Lr().appendChild(l),Lr().appendChild(d),o(r.always),i(r.resting),function(){var f=function(b){var y=b.current;y||A(!1),Lr().removeChild(y),b.current=null};f(n),f(a)}},[t,o,i,r.always,r.resting,e]);var s=q(function(){return i(r.dragging)},[i,r.dragging]),u=q(function(l){if(l==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=q(function(){!a.current||i(r.resting)},[i,r.resting]),p=le(function(){return{dragging:s,dropping:u,resting:c}},[s,u,c]);return p}var Ti=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ur(e){return e instanceof Ti(e).HTMLElement}function Au(e,t){var r="["+st.contextId+'="'+e+'"]',n=ri(document.querySelectorAll(r));if(!n.length)return null;var a=je(n,function(i){return i.getAttribute(st.draggableId)===t});return!a||!ur(a)?null:a}function Ru(e){var t=C.exports.useRef({}),r=C.exports.useRef(null),n=C.exports.useRef(null),a=C.exports.useRef(!1),i=q(function(d,f){var v={id:d,focus:f};return t.current[d]=v,function(){var y=t.current,w=y[d];w!==v&&delete y[d]}},[]),o=q(function(d){var f=Au(e,d);f&&f!==document.activeElement&&f.focus()},[e]),s=q(function(d,f){r.current===d&&(r.current=f)},[]),u=q(function(){n.current||!a.current||(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&o(d)}))},[o]),c=q(function(d){r.current=null;var f=document.activeElement;!f||f.getAttribute(st.draggableId)===d&&(r.current=d)},[]);Be(function(){return a.current=!0,function(){a.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var p=le(function(){return{register:i,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:s}},[i,c,u,s]);return p}function Nu(){var e={draggables:{},droppables:{}},t=[];function r(l){return t.push(l),function(){var f=t.indexOf(l);f!==-1&&t.splice(f,1)}}function n(l){t.length&&t.forEach(function(d){return d(l)})}function a(l){return e.draggables[l]||null}function i(l){var d=a(l);return d||A(!1),d}var o={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,f){var v=e.draggables[f.descriptor.id];!v||v.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var f=d.descriptor.id,v=a(f);!v||d.uniqueId===v.uniqueId&&(delete e.draggables[f],n({type:"REMOVAL",value:d}))},getById:i,findById:a,exists:function(d){return Boolean(a(d))},getAllByType:function(d){return Jt(e.draggables).filter(function(f){return f.descriptor.type===d})}};function s(l){return e.droppables[l]||null}function u(l){var d=s(l);return d||A(!1),d}var c={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var f=s(d.descriptor.id);!f||d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:u,findById:s,exists:function(d){return Boolean(s(d))},getAllByType:function(d){return Jt(e.droppables).filter(function(f){return f.descriptor.type===d})}};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:r,clean:p}}function Tu(){var e=le(Nu,[]);return C.exports.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var un=Fe.createContext(null),er=function(){var e=document.body;return e||A(!1),e},ku={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Ou=function(t){return"rbd-announcement-"+t};function Fu(e){var t=le(function(){return Ou(e)},[e]),r=C.exports.useRef(null);C.exports.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),V(i.style,ku),er().appendChild(i),function(){setTimeout(function(){var u=er();u.contains(i)&&u.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=q(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var Hu=0,Gu={separator:"::"};function dn(e,t){return t===void 0&&(t=Gu),le(function(){return""+e+t.separator+Hu++},[t.separator,e])}function Wu(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function $u(e){var t=e.contextId,r=e.text,n=dn("hidden-text",{separator:"-"}),a=le(function(){return Wu({contextId:t,uniqueId:n})},[n,t]);return C.exports.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",er().appendChild(o),function(){var u=er();u.contains(o)&&u.removeChild(o)}},[a,r]),a}var dr=Fe.createContext(null);function ki(e){var t=C.exports.useRef(e);return C.exports.useEffect(function(){t.current=e}),t}function zu(){var e=null;function t(){return Boolean(e)}function r(o){return o===e}function n(o){e&&A(!1);var s={abandon:o};return e=s,s}function a(){e||A(!1),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var Vu=9,Uu=13,pn=27,Oi=32,qu=33,Yu=34,Xu=35,_u=36,ju=37,Zu=38,Ku=39,Ju=40,Ft,Qu=(Ft={},Ft[Uu]=!0,Ft[Vu]=!0,Ft),Fi=function(e){Qu[e.keyCode]&&e.preventDefault()},pr=function(){var e="visibilitychange";if(typeof document=="undefined")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=je(t,function(n){return"on"+n in document});return r||e}(),Hi=0,fa=5;function ed(e,t){return Math.abs(t.x-e.x)>=fa||Math.abs(t.y-e.y)>=fa}var va={type:"IDLE"};function td(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,u=o.clientX,c=o.clientY;if(s===Hi){var p={x:u,y:c},l=n();if(l.type==="DRAGGING"){o.preventDefault(),l.actions.move(p);return}l.type!=="PENDING"&&A(!1);var d=l.point;if(!!ed(d,p)){o.preventDefault();var f=l.actions.fluidLift(p);a({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){t();return}if(o.keyCode===pn){o.preventDefault(),t();return}Fi(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&A(!1),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:pr,fn:t}]}function rd(e){var t=C.exports.useRef(va),r=C.exports.useRef(Ue),n=le(function(){return{eventName:"mousedown",fn:function(l){if(!l.defaultPrevented&&l.button===Hi&&!(l.ctrlKey||l.metaKey||l.shiftKey||l.altKey)){var d=e.findClosestDraggableId(l);if(!!d){var f=e.tryGetLock(d,o,{sourceEvent:l});if(!!f){l.preventDefault();var v={x:l.clientX,y:l.clientY};r.current(),c(f,v)}}}}}},[e]),a=le(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(l){if(!l.defaultPrevented){var d=e.findClosestDraggableId(l);if(!!d){var f=e.findOptionsForDraggable(d);!f||f.shouldRespectForcePress||!e.canGetLock(d)||l.preventDefault()}}}}},[e]),i=q(function(){var l={passive:!1,capture:!0};r.current=Ne(window,[a,n],l)},[a,n]),o=q(function(){var p=t.current;p.type!=="IDLE"&&(t.current=va,r.current(),i())},[i]),s=q(function(){var p=t.current;o(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[o]),u=q(function(){var l={capture:!0,passive:!1},d=td({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=Ne(window,d,l)},[s,o]),c=q(function(l,d){t.current.type!=="IDLE"&&A(!1),t.current={type:"PENDING",point:d,actions:l},u()},[u]);Be(function(){return i(),function(){r.current()}},[i])}var tt;function nd(){}var ad=(tt={},tt[Yu]=!0,tt[qu]=!0,tt[_u]=!0,tt[Xu]=!0,tt);function id(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===pn){i.preventDefault(),r();return}if(i.keyCode===Oi){i.preventDefault(),n();return}if(i.keyCode===Ju){i.preventDefault(),e.moveDown();return}if(i.keyCode===Zu){i.preventDefault(),e.moveUp();return}if(i.keyCode===Ku){i.preventDefault(),e.moveRight();return}if(i.keyCode===ju){i.preventDefault(),e.moveLeft();return}if(ad[i.keyCode]){i.preventDefault();return}Fi(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:pr,fn:r}]}function od(e){var t=C.exports.useRef(nd),r=le(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Oi)return;var o=e.findClosestDraggableId(i);if(!o)return;var s=e.tryGetLock(o,p,{sourceEvent:i});if(!s)return;i.preventDefault();var u=!0,c=s.snapLift();t.current();function p(){u||A(!1),u=!1,t.current(),n()}t.current=Ne(window,id(c,p),{capture:!0,passive:!1})}}},[e]),n=q(function(){var i={passive:!1,capture:!0};t.current=Ne(window,[r],i)},[r]);Be(function(){return n(),function(){t.current()}},[n])}var Er={type:"IDLE"},sd=120,ld=.15;function cd(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===pn&&a.preventDefault(),t()}},{eventName:pr,fn:t}]}function ud(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=i.touches[0],u=s.clientX,c=s.clientY,p={x:u,y:c};i.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&A(!1);var s=i.touches[0];if(!!s){var u=s.force>=ld;if(!!u){var c=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){c&&t();return}if(c){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:pr,fn:t}]}function dd(e){var t=C.exports.useRef(Er),r=C.exports.useRef(Ue),n=q(function(){return t.current},[]),a=q(function(f){t.current=f},[]),i=le(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var v=e.findClosestDraggableId(f);if(!!v){var b=e.tryGetLock(v,s,{sourceEvent:f});if(!!b){var y=f.touches[0],w=y.clientX,S=y.clientY,D={x:w,y:S};r.current(),l(b,D)}}}}}},[e]),o=q(function(){var f={capture:!0,passive:!1};r.current=Ne(window,[i],f)},[i]),s=q(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),a(Er),r.current(),o())},[o,a]),u=q(function(){var d=t.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),c=q(function(){var f={capture:!0,passive:!1},v={cancel:u,completed:s,getPhase:n},b=Ne(window,ud(v),f),y=Ne(window,cd(v),f);r.current=function(){b(),y()}},[u,n,s]),p=q(function(){var f=n();f.type!=="PENDING"&&A(!1);var v=f.actions.fluidLift(f.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),l=q(function(f,v){n().type!=="IDLE"&&A(!1);var b=setTimeout(p,sd);a({type:"PENDING",point:v,actions:f,longPressTimerId:b}),c()},[c,n,a,p]);Be(function(){return o(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(Er))}},[n,o,a]),Be(function(){var f=Ne(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var pd={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Gi(e,t){if(t==null)return!1;var r=Boolean(pd[t.tagName.toLowerCase()]);if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Gi(e,t.parentElement)}function fd(e,t){var r=t.target;return ur(r)?Gi(e,r):!1}var vd=function(e){return Oe(e.getBoundingClientRect()).center};function gd(e){return e instanceof Ti(e).Element}var hd=function(){var e="matches";if(typeof document=="undefined")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=je(t,function(n){return n in Element.prototype});return r||e}();function Wi(e,t){return e==null?null:e[hd](t)?e:Wi(e.parentElement,t)}function md(e,t){return e.closest?e.closest(t):Wi(e,t)}function bd(e){return"["+st.contextId+'="'+e+'"]'}function xd(e,t){var r=t.target;if(!gd(r))return null;var n=bd(e),a=md(r,n);return!a||!ur(a)?null:a}function yd(e,t){var r=xd(e,t);return r?r.getAttribute(st.draggableId):null}function wd(e,t){var r="["+Or.contextId+'="'+e+'"]',n=ri(document.querySelectorAll(r)),a=je(n,function(i){return i.getAttribute(Or.id)===t});return!a||!ur(a)?null:a}function Cd(e){e.preventDefault()}function Ht(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function $i(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!Bi(r.getState(),a))}function Sd(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,u=$i({lockAPI:t,store:n,registry:a,draggableId:i});if(!u)return null;var c=a.draggable.getById(i),p=wd(r,c.descriptor.id);if(!p||s&&!c.options.canDragInteractiveElements&&fd(p,s))return null;var l=t.claim(o||Ue),d="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function v(){return t.isActive(l)}function b(M,R){Ht({expected:M,phase:d,isLockActive:v,shouldWarn:!0})&&n.dispatch(R())}var y=b.bind(null,"DRAGGING");function w(M){function R(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(R(),d!=="PRE_DRAG"&&A(!1)),n.dispatch(hc(M.liftActionArgs)),d="DRAGGING";function I(P,U){if(U===void 0&&(U={shouldBlockNextClick:!1}),M.cleanup(),U.shouldBlockNextClick){var Y=Ne(window,[{eventName:"click",fn:Cd,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Y)}R(),n.dispatch(Si({reason:P}))}return V({isActive:function(){return Ht({expected:"DRAGGING",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(U){return I("DROP",U)},cancel:function(U){return I("CANCEL",U)}},M.actions)}function S(M){var R=yt(function(P){y(function(){return Ci({client:P})})}),I=w({liftActionArgs:{id:i,clientSelection:M,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return V({},I,{move:R})}function D(){var M={moveUp:function(){return y(Lc)},moveRight:function(){return y(Mc)},moveDown:function(){return y(Ec)},moveLeft:function(){return y(Pc)}};return w({liftActionArgs:{id:i,clientSelection:vd(p),movementMode:"SNAP"},cleanup:Ue,actions:M})}function L(){var M=Ht({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!0});M&&t.release()}var B={isActive:function(){return Ht({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:S,snapLift:D,abort:L};return B}var Dd=[rd,od,dd];function Ld(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Dd:[],a||[]),s=C.exports.useState(function(){return zu()})[0],u=q(function(S,D){S.isDragging&&!D.isDragging&&s.tryAbandon()},[s]);Be(function(){var S=r.getState(),D=r.subscribe(function(){var L=r.getState();u(S,L),S=L});return D},[s,r,u]),Be(function(){return s.tryAbandon},[s.tryAbandon]);for(var c=q(function(w){return $i({lockAPI:s,registry:n,store:r,draggableId:w})},[s,n,r]),p=q(function(w,S,D){return Sd({lockAPI:s,registry:n,contextId:t,store:r,draggableId:w,forceSensorStop:S,sourceEvent:D&&D.sourceEvent?D.sourceEvent:null})},[t,s,n,r]),l=q(function(w){return yd(t,w)},[t]),d=q(function(w){var S=n.draggable.findById(w);return S?S.options:null},[n.draggable]),f=q(function(){!s.isClaimed()||(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(tn()))},[s,r]),v=q(s.isClaimed,[s]),b=le(function(){return{canGetLock:c,tryGetLock:p,findClosestDraggableId:l,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:v}},[c,p,l,d,f,v]),y=0;y<o.length;y++)o[y](b)}var Ed=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function vt(e){return e.current||A(!1),e.current}function Md(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=C.exports.useRef(null),s=ki(e),u=q(function(){return Ed(s.current)},[s]),c=Fu(t),p=$u({contextId:t,text:i}),l=Bu(t,a),d=q(function(P){vt(o).dispatch(P)},[]),f=le(function(){return Mn({publishWhileDragging:bc,updateDroppableScroll:yc,updateDroppableIsEnabled:wc,updateDroppableIsCombineEnabled:Cc,collectionStarting:xc},d)},[d]),v=Tu(),b=le(function(){return lu(v,f)},[v,f]),y=le(function(){return Lu(V({scrollWindow:cu,scrollDroppable:b.scrollDroppable},Mn({move:Ci},d)))},[b.scrollDroppable,d]),w=Ru(t),S=le(function(){return au({announce:c,autoScroller:y,dimensionMarshal:b,focusMarshal:w,getResponders:u,styleMarshal:l})},[c,y,b,w,u,l]);o.current=S;var D=q(function(){var P=vt(o),U=P.getState();U.phase!=="IDLE"&&P.dispatch(tn())},[]),L=q(function(){var P=vt(o).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),B=le(function(){return{isDragging:L,tryAbort:D}},[L,D]);r(B);var M=q(function(P){return Bi(vt(o).getState(),P)},[]),R=q(function(){return Je(vt(o).getState())},[]),I=le(function(){return{marshal:b,focus:w,contextId:t,canLift:M,isMovementAllowed:R,dragHandleUsageInstructionsId:p,registry:v}},[t,b,p,w,M,R,v]);return Ld({contextId:t,store:S,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),C.exports.useEffect(function(){return D},[D]),m(dr.Provider,{value:I,children:m(cs,{context:un,store:S,children:e.children})})}var Pd=0;function Id(){return le(function(){return""+Pd++},[])}function Bd(e){var t=Id(),r=e.dragHandleUsageInstructions||Wt.dragHandleUsageInstructions;return m(ol,{children:function(n){return m(Md,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,children:e.children})}})}var zi=function(t){return function(r){return t===r}},Ad=zi("scroll"),Rd=zi("auto"),ga=function(t,r){return r(t.overflowX)||r(t.overflowY)},Nd=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return ga(n,Ad)||ga(n,Rd)},Td=function(){return!1},kd=function e(t){return t==null?null:t===document.body?Td()?t:null:t===document.documentElement?null:Nd(t)?t:e(t.parentElement)},Fr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Od=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},Fd=function(e){var t=kd(e),r=Od(e);return{closestScrollable:t,isFixedOnPage:r}},Hd=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,s=e.page,u=e.closest,c=function(){if(!u)return null;var f=u.scrollSize,v=u.client,b=Mi({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:f,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:b,diff:{value:xe,displacement:xe}}}}(),p=i==="vertical"?Zr:si,l=it({page:s,withPlaceholder:null,axis:p,frame:c}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:p,isEnabled:r,client:o,page:s,frame:c,subject:l};return d},Gd=function(t,r){var n=Ka(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,s=i+r.scrollWidth,u={top:a,right:s,bottom:o,left:i},c=qr(u,n.border),p=Yr({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return p},Wd=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,u=e.shouldClipSubject,c=n.closestScrollable,p=Gd(t,c),l=jt(p,a),d=function(){if(!c)return null;var v=Ka(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:jt(v,a),scroll:Fr(c),scrollSize:b,shouldClipSubject:u}}(),f=Hd({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:p,page:l,closest:d});return f},$d={passive:!1},zd={passive:!0},ha=function(e){return e.shouldPublishImmediately?$d:zd};function tr(e){var t=C.exports.useContext(e);return t||A(!1),t}var Gt=function(t){return t&&t.env.closestScrollable||null};function Vd(e){var t=C.exports.useRef(null),r=tr(dr),n=dn("droppable"),a=r.registry,i=r.marshal,o=ki(e),s=le(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),u=C.exports.useRef(s),c=le(function(){return be(function(L,B){t.current||A(!1);var M={x:L,y:B};i.updateDroppableScroll(s.id,M)})},[s.id,i]),p=q(function(){var L=t.current;return!L||!L.env.closestScrollable?xe:Fr(L.env.closestScrollable)},[]),l=q(function(){var L=p();c(L.x,L.y)},[p,c]),d=le(function(){return yt(l)},[l]),f=q(function(){var L=t.current,B=Gt(L);L&&B||A(!1);var M=L.scrollOptions;if(M.shouldPublishImmediately){l();return}d()},[d,l]),v=q(function(L,B){t.current&&A(!1);var M=o.current,R=M.getDroppableRef();R||A(!1);var I=Fd(R),P={ref:R,descriptor:s,env:I,scrollOptions:B};t.current=P;var U=Wd({ref:R,descriptor:s,env:I,windowScroll:L,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),Y=I.closestScrollable;return Y&&(Y.setAttribute(da.contextId,r.contextId),Y.addEventListener("scroll",f,ha(P.scrollOptions))),U},[r.contextId,s,f,o]),b=q(function(){var L=t.current,B=Gt(L);return L&&B||A(!1),Fr(B)},[]),y=q(function(){var L=t.current;L||A(!1);var B=Gt(L);t.current=null,B&&(d.cancel(),B.removeAttribute(da.contextId),B.removeEventListener("scroll",f,ha(L.scrollOptions)))},[f,d]),w=q(function(L){var B=t.current;B||A(!1);var M=Gt(B);M||A(!1),M.scrollTop+=L.y,M.scrollLeft+=L.x},[]),S=le(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:b,dragStopped:y,scroll:w}},[y,v,b,w]),D=le(function(){return{uniqueId:n,descriptor:s,callbacks:S}},[S,s,n]);Be(function(){return u.current=D.descriptor,a.droppable.register(D),function(){t.current&&y(),a.droppable.unregister(D)}},[S,s,y,D,i,a.droppable]),Be(function(){!t.current||i.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Be(function(){!t.current||i.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Mr(){}var ma={width:0,height:0,margin:pl},Ud=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?ma:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},qd=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=Ud({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?mt.placeholder:null}};function Yd(e){var t=C.exports.useRef(null),r=q(function(){!t.current||(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,s=C.exports.useState(e.animate==="open"),u=s[0],c=s[1];C.exports.useEffect(function(){return u?n!=="open"?(r(),c(!1),Mr):t.current?Mr:(t.current=setTimeout(function(){t.current=null,c(!1)}),r):Mr},[n,u,r]);var p=q(function(d){d.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),l=qd({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return Fe.createElement(e.placeholder.tagName,{style:l,"data-rbd-placeholder-context-id":o,onTransitionEnd:p,ref:e.innerRef})}var Xd=Fe.memo(Yd),fn=Fe.createContext(null),_d=function(e){Oa(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:Boolean(n.props.on),data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(a.on),data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Fe.PureComponent),ba={dragging:5e3,dropAnimating:4500},jd=function(t,r){return r?mt.drop(r.duration):t?mt.snap:mt.fluid},Zd=function(t,r){return t?r?Dt.opacity.drop:Dt.opacity.combining:null},Kd=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Jd(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,o=Boolean(a),s=Kd(e),u=Boolean(i),c=u?Tr.drop(n,o):Tr.moveTo(n),p={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:jd(s,i),transform:c,opacity:Zd(o,u),zIndex:u?ba.dropAnimating:ba.dragging,pointerEvents:"none"};return p}function Qd(e){return{transform:Tr.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ep(e){return e.type==="DRAGGING"?Jd(e):Qd(e)}function tp(e,t,r){r===void 0&&(r=xe);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Za(a,n),o=jt(i,r),s={client:i,tagName:t.tagName.toLowerCase(),display:n.display},u={x:i.marginBox.width,y:i.marginBox.height},c={descriptor:e,placeholder:s,displaceBy:u,client:i,page:o};return c}function rp(e){var t=dn("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,u=le(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:s}},[i,s,o]),c=q(function(f){var v=a();return v||A(!1),tp(r,v,f)},[r,a]),p=le(function(){return{uniqueId:t,descriptor:r,options:u,getDimension:c}},[r,c,u,t]),l=C.exports.useRef(p),d=C.exports.useRef(!0);Be(function(){return n.draggable.register(l.current),function(){return n.draggable.unregister(l.current)}},[n.draggable]),Be(function(){if(d.current){d.current=!1;return}var f=l.current;l.current=p,n.draggable.update(p,f)},[p,n.draggable])}function np(e){e.preventDefault()}function ap(e){var t=C.exports.useRef(null),r=q(function(P){t.current=P},[]),n=q(function(){return t.current},[]),a=tr(dr),i=a.contextId,o=a.dragHandleUsageInstructionsId,s=a.registry,u=tr(fn),c=u.type,p=u.droppableId,l=le(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:p}},[e.draggableId,e.index,c,p]),d=e.children,f=e.draggableId,v=e.isEnabled,b=e.shouldRespectForcePress,y=e.canDragInteractiveElements,w=e.isClone,S=e.mapped,D=e.dropAnimationFinished;if(!w){var L=le(function(){return{descriptor:l,registry:s,getDraggableRef:n,canDragInteractiveElements:y,shouldRespectForcePress:b,isEnabled:v}},[l,s,n,y,b,v]);rp(L)}var B=le(function(){return v?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:np}:null},[i,o,f,v]),M=q(function(P){S.type==="DRAGGING"&&(!S.dropping||P.propertyName==="transform"&&D())},[D,S]),R=le(function(){var P=ep(S),U=S.type==="DRAGGING"&&S.dropping?M:null,Y={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":f,style:P,onTransitionEnd:U},dragHandleProps:B};return Y},[i,B,f,S,M,r]),I=le(function(){return{draggableId:l.id,type:l.type,source:{index:l.index,droppableId:l.droppableId}}},[l.droppableId,l.id,l.index,l.type]);return d(R,S.snapshot,I)}var Vi=function(e,t){return e===t},Ui=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},ip=function(t){return t.combine?t.combine.draggableId:null},op=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function sp(){var e=be(function(a,i){return{x:a,y:i}}),t=be(function(a,i,o,s,u){return{isDragging:!0,isClone:i,isDropAnimating:Boolean(u),dropAnimation:u,mode:a,draggingOver:o,combineWith:s,combineTargetFor:null}}),r=be(function(a,i,o,s,u,c,p){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:i,offset:a,dimension:o,forceShouldAnimate:p,snapshot:t(i,s,u,c,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var s=i.current.client.offset,u=i.dimensions.draggables[o.draggableId],c=Ie(i.impact),p=op(i.impact),l=i.forceShouldAnimate;return r(e(s.x,s.y),i.movementMode,u,o.isClone,c,p,l)}if(i.phase==="DROP_ANIMATING"){var d=i.completed;if(d.result.draggableId!==o.draggableId)return null;var f=o.isClone,v=i.dimensions.draggables[o.draggableId],b=d.result,y=b.mode,w=Ui(b),S=ip(b),D=i.dropDuration,L={duration:D,curve:nn.drop,moveTo:i.newHomeClientOffset,opacity:S?Dt.opacity.drop:null,scale:S?Dt.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:L,draggingOver:w,combineWith:S,mode:y,forceShouldAnimate:null,snapshot:t(y,f,w,S,L)}}}return null};return n}function qi(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var lp={mapped:{type:"SECONDARY",offset:xe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:qi(null)}};function cp(){var e=be(function(o,s){return{x:o,y:s}}),t=be(qi),r=be(function(o,s,u){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:u,snapshot:t(s)}}}),n=function(s){return s?r(xe,s,!0):null},a=function(s,u,c,p){var l=c.displaced.visible[s],d=Boolean(p.inVirtualList&&p.effected[s]),f=sr(c),v=f&&f.draggableId===s?u:null;if(!l){if(!d)return n(v);if(c.displaced.invisible[s])return null;var b=lt(p.displacedBy.point),y=e(b.x,b.y);return r(y,v,!0)}if(d)return n(v);var w=c.displacedBy.point,S=e(w.x,w.y);return r(S,v,l.shouldAnimate)},i=function(s,u){if(s.isDragging)return s.critical.draggable.id===u.draggableId?null:a(u.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var c=s.completed;return c.result.draggableId===u.draggableId?null:a(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return i}var up=function(){var t=sp(),r=cp(),n=function(i,o){return t(i,o)||r(i,o)||lp};return n},dp={dropAnimationFinished:Di},pp=_a(up,dp,null,{context:un,pure:!0,areStatePropsEqual:Vi})(ap);function Yi(e){var t=tr(fn),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:m(pp,ge({},e))}function fp(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return m(Yi,De(ge({},e),{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function vp(e){var t=C.exports.useContext(dr);t||A(!1);var r=t.contextId,n=t.isMovementAllowed,a=C.exports.useRef(null),i=C.exports.useRef(null),o=e.children,s=e.droppableId,u=e.type,c=e.mode,p=e.direction,l=e.ignoreContainerClipping,d=e.isDropDisabled,f=e.isCombineEnabled,v=e.snapshot,b=e.useClone,y=e.updateViewportMaxScroll,w=e.getContainerForClone,S=q(function(){return a.current},[]),D=q(function(Y){a.current=Y},[]);q(function(){return i.current},[]);var L=q(function(Y){i.current=Y},[]),B=q(function(){n()&&y({maxScroll:Ii()})},[n,y]);Vd({droppableId:s,type:u,mode:c,direction:p,isDropDisabled:d,isCombineEnabled:f,ignoreContainerClipping:l,getDroppableRef:S});var M=m(_d,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder,children:function(Y){var oe=Y.onClose,ae=Y.data,K=Y.animate;return m(Xd,{placeholder:ae,onClose:oe,innerRef:L,animate:K,contextId:r,onTransitionEnd:B})}}),R=le(function(){return{innerRef:D,placeholder:M,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,M,D]),I=b?b.dragging.draggableId:null,P=le(function(){return{droppableId:s,type:u,isUsingCloneFor:I}},[s,I,u]);function U(){if(!b)return null;var Y=b.dragging,oe=b.render,ae=m(Yi,{draggableId:Y.draggableId,index:Y.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0,children:function(K,W){return oe(K,W,Y)}});return Co.createPortal(ae,w())}return _(fn.Provider,{value:P,children:[o(R,v),U()]})}var Pr=function(t,r){return t===r.droppable.type},xa=function(t,r){return r.draggables[t.draggable.id]},gp=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=V({},t,{shouldAnimatePlaceholder:!1}),n=be(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=be(function(o,s,u,c,p,l){var d=p.descriptor.id,f=p.descriptor.droppableId===o;if(f){var v=l?{render:l,dragging:n(p.descriptor)}:null,b={isDraggingOver:u,draggingOverWith:u?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:v}}if(!s)return r;if(!c)return t;var y={isDraggingOver:u,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),i=function(s,u){var c=u.droppableId,p=u.type,l=!u.isDropDisabled,d=u.renderClone;if(s.isDragging){var f=s.critical;if(!Pr(p,f))return r;var v=xa(f,s.dimensions),b=Ie(s.impact)===c;return a(c,l,b,b,v,d)}if(s.phase==="DROP_ANIMATING"){var y=s.completed;if(!Pr(p,y.critical))return r;var w=xa(y.critical,s.dimensions);return a(c,l,Ui(y.result)===c,Ie(y.impact)===c,w,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var S=s.completed;if(!Pr(p,S.critical))return r;var D=Ie(S.impact)===c,L=Boolean(S.impact.at&&S.impact.at.type==="COMBINE"),B=S.critical.droppable.id===c;return D?L?t:r:B?t:r}return r};return i},hp={updateViewportMaxScroll:Dc};function mp(){return document.body||A(!1),document.body}var bp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:mp},Xi=_a(gp,hp,null,{context:un,pure:!0,areStatePropsEqual:Vi})(vp);Xi.defaultProps=bp;const xp=new Array(10).fill("").map((e,t)=>t+1),yp=({onSelect:e})=>m("div",{className:"template-list",children:xp.map(t=>m("div",{className:"template-list__item flex-center pointer",onClick:()=>e(t),children:t}))}),me=1e3;var wp=e=>{const t=C.exports.useMemo(()=>{var i;const r=(i=e==null?void 0:e.width)!=null?i:0,n=(e==null?void 0:e.style)||"solid",a=(e==null?void 0:e.color)||"#d14424";return{outlineWidth:r,outlineStyle:n,outlineColor:a}},[e||{}]);return ge({},t)};const Cp=({width:e,height:t,outline:r})=>{const{outlineWidth:n,outlineStyle:a,outlineColor:i}=wp(r);return r?m("svg",{className:"element-outline",overflow:"visible",width:e,height:t,children:m("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"butt",strokeMiterlimit:"8",strokeLinejoin:"round",fill:"transparent",d:`M0,0 L${e},0 L${e},${t} L0,${t} Z`,stroke:i,strokeWidth:n,strokeDasharray:a==="dashed"?"10 6":"0 0"})}):null};const vn=({elementInfo:e,contextmenus:t,onSelectElement:r,editable:n=!0})=>{const a=$(p=>p.slides.slides),i=$(p=>p.slides.slideIndex),o=ve(),s=(p,l=!0)=>{e.lock||(p.stopPropagation(),r(p,e,l,a[i].elements))},u=()=>{o(Pn(!0))},c=Ge.exports.debounce((p,l=!0)=>{var d;o(Gr({id:e.id,props:{content:p.target.innerHTML,width:e.width,height:((d=p.target)==null?void 0:d.clientHeight)+20||0}})),o(Pn(l))},16);return m("div",{className:"editable-element-container",style:{top:e.top+"px",left:e.left+"px",width:e.width+"px"},children:m("div",{className:"rotate-wrapper",style:{transform:`rotate(${e.rotate}deg)`},children:_("div",{className:"element-content",style:{backgroundColor:e.fill,opacity:e.opacity,lineHeight:e.lineHeight,letterSpacing:(e.wordSpace||0)+"px",color:e.defaultColor,fontFamily:e.defaultFontName,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration},onMouseDown:p=>s(p),children:[m(Cp,{width:e.width,height:e.height,outline:e.outline}),m("div",{style:{textAlign:e.textAlign||"left"},onFocus:u,onBlur:p=>c(p,!1),suppressContentEditableWarning:!0,contentEditable:n,className:"text-ele-content",dangerouslySetInnerHTML:{__html:e.content},onMouseDown:p=>s(p,!1)}),m("div",{className:"drag-handler top"}),m("div",{className:"drag-handler bottom"})]})})})};const gn=({elementInfo:e,contextmenus:t,onSelectElement:r})=>{const n=$(s=>s.slides.slides),a=$(s=>s.slides.slideIndex),i=(s,u=!0)=>{e.lock||(s.stopPropagation(),r(s,e,u,n[a].elements))},o=(s,u)=>{let c="";return s&&u?c="rotateX(180deg) rotateY(180deg)":u?c="rotateX(180deg)":s&&(c="rotateY(180deg)"),c};return m("div",{className:Se("editable-element-image",{lock:e.lock}),style:{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"},children:m("div",{className:"rotate-wrapper",style:{transform:`rotate(${e.rotate}deg)`},children:m("div",{className:"element-content",style:{transform:o(e.flipH,e.flipV)},onMouseDown:i,children:m("div",{className:"image-content",children:m("img",{src:e.src,draggable:!1,style:{},alt:""})})})})})};const hn=({elementInfo:e,onSelectElement:t})=>{var p,l,d;const r=$(f=>f.slides.slides),n=$(f=>f.slides.slideIndex),a=(f,v=!0)=>{e.lock||(f.stopPropagation(),t(f,e,v,r[n].elements))},i=(f,v)=>{let b="";return f&&v?b="rotateX(180deg) rotateY(180deg)":v?b="rotateX(180deg)":f&&(b="rotateY(180deg)"),b},o=()=>{const f={content:"",defaultFontName:"\u5FAE\u8F6F\u96C5\u9ED1",defaultColor:"#000",align:"middle"};return e.text?e.text:f},s=((p=e==null?void 0:e.outline)==null?void 0:p.width)||0,u=((l=e==null?void 0:e.outline)==null?void 0:l.style)||"solid",c=((d=e==null?void 0:e.outline)==null?void 0:d.color)||"#d14424";return m("div",{className:"editable-element-shape",style:{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"},children:m("div",{className:"rotate-wrapper",style:{transform:`rotate(${e.rotate}deg)`},children:m("div",{className:"element-content",style:{opacity:e.opacity,transform:i(e.flipH,e.flipV),color:o().defaultColor},onMouseDown:a,children:_("svg",{overflow:"visible",width:e.width,height:e.height,children:[e.gradient&&m("defs",{}),m("g",{transform:`scale(${e.width/e.viewBox}, ${e.height/e.viewBox}) translate(0,0) matrix(1,0,0,1,0,0)`,children:m("path",{className:"shape-path",vectorEffect:"non-scaling-stroke",strokeLinecap:"butt",strokeMiterlimit:"8",strokeLinejoin:"inherit",d:e.path,fill:e.gradient?`url(#editabel-gradient-${e.id})`:e.fill,stroke:c,strokeWidth:s,strokeDasharray:u==="dashed"?"10 6":"0 0"})})]})})})})};const Sp=({elementInfo:e,elementIndex:t})=>{const r=()=>{},n=C.exports.useMemo(()=>e.type==="text"?m(vn,{elementInfo:e,editable:!1,onSelectElement:r}):e.type==="image"?m(gn,{elementInfo:e}):e.type==="shape"?m(hn,{elementInfo:e,onSelectElement:r}):null,[e]);return m("div",{className:"thumbnail-element-list",children:m("div",{className:"thumbnail-element-list__item",style:{zIndex:t},children:n})})};var _i=()=>({backgroundStyle:t=>{if(!t)return{backgroundColor:"#fff"};const{type:r,color:n,image:a,imageSize:i,gradientColor:o,gradientRotate:s,gradientType:u}=t;if(r==="solid")return{backgroundColor:n};if(r==="image")return a?i==="repeat"?{backgroundImage:`url(${a}`,backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:`url(${a}`,backgroundRepeat:"no-repeat",backgroundSize:i||"cover"}:{backgroundColor:"#fff"};if(r==="gradient"){const c=s||0,p=o?o[0]:"#fff",l=o?o[1]:"#fff";return u==="radial"?{backgroundImage:`radial-gradient(${p}, ${l}`}:{backgroundImage:`linear-gradient(${c}deg, ${p}, ${l}`}}return{backgroundColor:"#fff"}}});const Dp=({slide:e,size:t,visible:r})=>{ve();const n=$(b=>b.canvas.viewportRatio),{backgroundStyle:a}=_i(),{createSlideToNext:i,updateSlidesList:o,resetSlides:s,deleteSlide:u}=zr(),{enterScreening:c}=$r(),f=m(qt,{items:[{label:m("div",{onClick:()=>{i(e.id)},children:"\u65B0\u5EFA\u9875\u9762"}),key:"add-page"},{label:m("div",{onClick:()=>{u(e.id)},children:"\u5220\u9664\u9875\u9762"}),key:"delete-page"},{label:m("div",{onClick:()=>{c()},children:"\u4ECE\u5F53\u524D\u9875\u6F14\u793A"}),key:"cur-play-page"}]}),v=C.exports.useMemo(()=>e.background,[e]);return m("div",{className:"thumbnail-slide",style:{width:t+"px",height:t*n+"px"},children:_("div",{className:`thumbnail-slide__elements ${r?"element-active":""}`,style:{width:me+"px",height:me*n+"px",transform:`scale(${t/me})`},children:[m(Ut,{destroyPopupOnHide:!0,overlay:f,trigger:["contextMenu"],children:m("div",{className:"thumbnail-slide__mask",onClick:b=>{b.preventDefault()}})}),m("div",{className:"thumbnail-slide__background",style:ge({},a(v))}),(e.elements||[]).map((b,y)=>m(Sp,{elementInfo:b,elementIndex:y+1},y))]})})},Lp=()=>{const e=$(c=>c.slides.slides),t=$(c=>c.slides.slideIndex),r=ve(),{createSlide:n,updateSlidesList:a}=zr(),i=()=>{},o=()=>m(yp,{onSelect:i}),s=c=>{const{source:p,destination:l,draggableId:d}=c;if(!l)return;const f=e[p.index],v=[...e];v.splice(p.index,1);const b=[...v.slice(0,l.index),f,...v.slice(l.index)];a([...b])},u=c=>{const l=[...e].findIndex(d=>d.id===c);l>-1&&r(nt(l))};return _("div",{className:"content-left",children:[_("div",{className:"content-left__top flex",children:[m("div",{className:"add-one flex-center flex-1",onClick:n,children:"\u6DFB\u52A0\u5E7B\u706F\u7247"}),m(at,{placement:"bottomLeft",title:"",content:o(),children:m("div",{className:"select-btn",children:"+"})})]}),m("div",{onClick:c=>{c.preventDefault(),c.stopPropagation()},className:"content-left__bottom",children:m(Bd,{onDragEnd:s,children:m(Xi,{droppableId:"droppable",children:c=>m("div",De(ge({},c.droppableProps),{ref:c.innerRef,children:e.map((p,l)=>m(fp,{draggableId:p.id,index:l,children:d=>C.exports.createElement("div",De(ge(ge({className:"thumbnails-item flex-center",ref:d.innerRef},d.draggableProps),d.dragHandleProps),{key:p.id,onClick:()=>u(p.id)}),m("div",{className:"order-number",children:ns(l+1,2)}),m(Dp,{slide:p,size:120,visible:t===l}))},p.id))}))})})})]})},Ep=[{label:"\u6837\u5F0F",value:"el_style"},{label:"\u4F4D\u7F6E",value:"el_position"}],Mp=[{label:"\u8BBE\u8BA1",value:"slide_style"},{label:"\u5207\u6362",value:"slide_animate"}],ji=({accept:e,children:t,onChange:r})=>{const n=C.exports.useRef(null);return _("div",{className:"file-input",onClick:()=>{!n.current||(n.current.value="",n.current.click())},children:[t,m("input",{style:{display:"none"},type:"file",name:"upload",ref:n,accept:e,onChange:o=>{var u,c,p,l;const s=o.target.files;s&&s[0]&&(["png","jpg","jpeg","bmp","gif","webp","psd","svg","tiff"].indexOf((l=(p=(c=(u=s[0])==null?void 0:u.type)==null?void 0:c.split("/"))==null?void 0:p[1])==null?void 0:l.toLowerCase())!==-1?r(s):Yt.error("\u8BF7\u4E0A\u4F20\u56FE\u7247\u6587\u4EF6"))}})]})},Pp=e=>new Promise(t=>{const r=document.createElement("img");r.src=e,r.style.opacity="0",document.body.appendChild(r),r.onload=()=>{const n=r.clientWidth,a=r.clientHeight;r.onload=null,r.onerror=null,document.body.removeChild(r),t({width:n,height:a})},r.onerror=()=>{r.onload=null,r.onerror=null}}),Zi=e=>new Promise(t=>{const r=new FileReader;r.addEventListener("load",()=>{t(r.result)}),r.readAsDataURL(e)});const Ip=({elementInfo:e,onSetting:t})=>{const r=(a,i)=>{t({[i]:a})},n=a=>{const i=a[0];!i||Zi(i).then(o=>{t({src:o})})};return _("div",{className:"image-style-panel",children:[m("div",{className:"origin-image",style:{backgroundImage:`url(${e.src})`}}),m("div",{className:"row btn-group",children:m(Re,{children:m(ji,{onChange:n,children:"\u66FF\u6362\u56FE\u7247"})})}),_("div",{className:"row btn-group",children:[m(Re,{className:Se({active:e.flipH}),onClick:()=>r(!e.flipH,"flipH"),children:"\u6C34\u5E73\u7FFB\u8F6C"}),m(Re,{className:Se({active:e.flipV}),onClick:()=>r(!e.flipV,"flipV"),children:"\u5782\u76F4\u7FFB\u8F6C"})]}),m(xt,{})]})},Bp=[{label:"\u5927\u6807\u9898",style:{fontSize:"26px",fontStyle:"inherit",textDecoration:"initial",fontWeight:700}},{label:"\u5C0F\u6807\u9898",style:{fontSize:"22px",fontStyle:"inherit",textDecoration:"initial",fontWeight:700}},{label:"\u6B63\u6587",style:{fontSize:"20px",fontStyle:"inherit",textDecoration:"initial",fontWeight:500}},{label:"\u6B63\u6587[\u5C0F]",style:{fontSize:"18px",fontStyle:"inherit",textDecoration:"initial",fontWeight:500}},{label:"\u6CE8\u91CA 1",style:{fontSize:"16px",fontStyle:"italic",textDecoration:"initial",fontWeight:500}},{label:"\u6CE8\u91CA 2",style:{fontSize:"16px",fontStyle:"inherit",textDecoration:"underline",fontWeight:500}}];const Ir=({value:e,options:t=[],onChange:r,children:n=null,disabled:a=!1,style:i={}})=>m(Tn,{className:"ppt-select",value:e,onChange:r,disabled:a,style:i,children:n||t.map(o=>m(Tn.Option,{value:o.value||o,children:o.label||o},o.value||o))});var Ki={exports:{}};(function(e){(function(t){var r=/^\s+/,n=/\s+$/,a=0,i=t.round,o=t.min,s=t.max,u=t.random;function c(g,x){if(g=g||"",x=x||{},g instanceof c)return g;if(!(this instanceof c))return new c(g,x);var h=p(g);this._originalInput=g,this._r=h.r,this._g=h.g,this._b=h.b,this._a=h.a,this._roundA=i(100*this._a)/100,this._format=x.format||h.format,this._gradientType=x.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=h.ok,this._tc_id=a++}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var g=this.toRgb();return(g.r*299+g.g*587+g.b*114)/1e3},getLuminance:function(){var g=this.toRgb(),x,h,E,N,T,Q;return x=g.r/255,h=g.g/255,E=g.b/255,x<=.03928?N=x/12.92:N=t.pow((x+.055)/1.055,2.4),h<=.03928?T=h/12.92:T=t.pow((h+.055)/1.055,2.4),E<=.03928?Q=E/12.92:Q=t.pow((E+.055)/1.055,2.4),.2126*N+.7152*T+.0722*Q},setAlpha:function(g){return this._a=ue(g),this._roundA=i(100*this._a)/100,this},toHsv:function(){var g=v(this._r,this._g,this._b);return{h:g.h*360,s:g.s,v:g.v,a:this._a}},toHsvString:function(){var g=v(this._r,this._g,this._b),x=i(g.h*360),h=i(g.s*100),E=i(g.v*100);return this._a==1?"hsv("+x+", "+h+"%, "+E+"%)":"hsva("+x+", "+h+"%, "+E+"%, "+this._roundA+")"},toHsl:function(){var g=d(this._r,this._g,this._b);return{h:g.h*360,s:g.s,l:g.l,a:this._a}},toHslString:function(){var g=d(this._r,this._g,this._b),x=i(g.h*360),h=i(g.s*100),E=i(g.l*100);return this._a==1?"hsl("+x+", "+h+"%, "+E+"%)":"hsla("+x+", "+h+"%, "+E+"%, "+this._roundA+")"},toHex:function(g){return y(this._r,this._g,this._b,g)},toHexString:function(g){return"#"+this.toHex(g)},toHex8:function(g){return w(this._r,this._g,this._b,this._a,g)},toHex8String:function(g){return"#"+this.toHex8(g)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(G(this._r,255)*100)+"%",g:i(G(this._g,255)*100)+"%",b:i(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+i(G(this._r,255)*100)+"%, "+i(G(this._g,255)*100)+"%, "+i(G(this._b,255)*100)+"%)":"rgba("+i(G(this._r,255)*100)+"%, "+i(G(this._g,255)*100)+"%, "+i(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:re[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(g){var x="#"+S(this._r,this._g,this._b,this._a),h=x,E=this._gradientType?"GradientType = 1, ":"";if(g){var N=c(g);h="#"+S(N._r,N._g,N._b,N._a)}return"progid:DXImageTransform.Microsoft.gradient("+E+"startColorstr="+x+",endColorstr="+h+")"},toString:function(g){var x=!!g;g=g||this._format;var h=!1,E=this._a<1&&this._a>=0,N=!x&&E&&(g==="hex"||g==="hex6"||g==="hex3"||g==="hex4"||g==="hex8"||g==="name");return N?g==="name"&&this._a===0?this.toName():this.toRgbString():(g==="rgb"&&(h=this.toRgbString()),g==="prgb"&&(h=this.toPercentageRgbString()),(g==="hex"||g==="hex6")&&(h=this.toHexString()),g==="hex3"&&(h=this.toHexString(!0)),g==="hex4"&&(h=this.toHex8String(!0)),g==="hex8"&&(h=this.toHex8String()),g==="name"&&(h=this.toName()),g==="hsl"&&(h=this.toHslString()),g==="hsv"&&(h=this.toHsvString()),h||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(g,x){var h=g.apply(null,[this].concat([].slice.call(x)));return this._r=h._r,this._g=h._g,this._b=h._b,this.setAlpha(h._a),this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(D,arguments)},saturate:function(){return this._applyModification(L,arguments)},greyscale:function(){return this._applyModification(B,arguments)},spin:function(){return this._applyModification(P,arguments)},_applyCombination:function(g,x){return g.apply(null,[this].concat([].slice.call(x)))},analogous:function(){return this._applyCombination(K,arguments)},complement:function(){return this._applyCombination(U,arguments)},monochromatic:function(){return this._applyCombination(W,arguments)},splitcomplement:function(){return this._applyCombination(ae,arguments)},triad:function(){return this._applyCombination(Y,arguments)},tetrad:function(){return this._applyCombination(oe,arguments)}},c.fromRatio=function(g,x){if(typeof g=="object"){var h={};for(var E in g)g.hasOwnProperty(E)&&(E==="a"?h[E]=g[E]:h[E]=k(g[E]));g=h}return c(g,x)};function p(g){var x={r:0,g:0,b:0},h=1,E=null,N=null,T=null,Q=!1,se=!1;return typeof g=="string"&&(g=ce(g)),typeof g=="object"&&(ie(g.r)&&ie(g.g)&&ie(g.b)?(x=l(g.r,g.g,g.b),Q=!0,se=String(g.r).substr(-1)==="%"?"prgb":"rgb"):ie(g.h)&&ie(g.s)&&ie(g.v)?(E=k(g.s),N=k(g.v),x=b(g.h,E,N),Q=!0,se="hsv"):ie(g.h)&&ie(g.s)&&ie(g.l)&&(E=k(g.s),T=k(g.l),x=f(g.h,E,T),Q=!0,se="hsl"),g.hasOwnProperty("a")&&(h=g.a)),h=ue(h),{ok:Q,format:g.format||se,r:o(255,s(x.r,0)),g:o(255,s(x.g,0)),b:o(255,s(x.b,0)),a:h}}function l(g,x,h){return{r:G(g,255)*255,g:G(x,255)*255,b:G(h,255)*255}}function d(g,x,h){g=G(g,255),x=G(x,255),h=G(h,255);var E=s(g,x,h),N=o(g,x,h),T,Q,se=(E+N)/2;if(E==N)T=Q=0;else{var fe=E-N;switch(Q=se>.5?fe/(2-E-N):fe/(E+N),E){case g:T=(x-h)/fe+(x<h?6:0);break;case x:T=(h-g)/fe+2;break;case h:T=(g-x)/fe+4;break}T/=6}return{h:T,s:Q,l:se}}function f(g,x,h){var E,N,T;g=G(g,360),x=G(x,100),h=G(h,100);function Q(ye,he,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?ye+(he-ye)*6*Ee:Ee<1/2?he:Ee<2/3?ye+(he-ye)*(2/3-Ee)*6:ye}if(x===0)E=N=T=h;else{var se=h<.5?h*(1+x):h+x-h*x,fe=2*h-se;E=Q(fe,se,g+1/3),N=Q(fe,se,g),T=Q(fe,se,g-1/3)}return{r:E*255,g:N*255,b:T*255}}function v(g,x,h){g=G(g,255),x=G(x,255),h=G(h,255);var E=s(g,x,h),N=o(g,x,h),T,Q,se=E,fe=E-N;if(Q=E===0?0:fe/E,E==N)T=0;else{switch(E){case g:T=(x-h)/fe+(x<h?6:0);break;case x:T=(h-g)/fe+2;break;case h:T=(g-x)/fe+4;break}T/=6}return{h:T,s:Q,v:se}}function b(g,x,h){g=G(g,360)*6,x=G(x,100),h=G(h,100);var E=t.floor(g),N=g-E,T=h*(1-x),Q=h*(1-N*x),se=h*(1-(1-N)*x),fe=E%6,ye=[h,Q,T,T,se,h][fe],he=[se,h,h,Q,T,T][fe],Ee=[T,T,se,h,h,Q][fe];return{r:ye*255,g:he*255,b:Ee*255}}function y(g,x,h,E){var N=[Z(i(g).toString(16)),Z(i(x).toString(16)),Z(i(h).toString(16))];return E&&N[0].charAt(0)==N[0].charAt(1)&&N[1].charAt(0)==N[1].charAt(1)&&N[2].charAt(0)==N[2].charAt(1)?N[0].charAt(0)+N[1].charAt(0)+N[2].charAt(0):N.join("")}function w(g,x,h,E,N){var T=[Z(i(g).toString(16)),Z(i(x).toString(16)),Z(i(h).toString(16)),Z(H(E))];return N&&T[0].charAt(0)==T[0].charAt(1)&&T[1].charAt(0)==T[1].charAt(1)&&T[2].charAt(0)==T[2].charAt(1)&&T[3].charAt(0)==T[3].charAt(1)?T[0].charAt(0)+T[1].charAt(0)+T[2].charAt(0)+T[3].charAt(0):T.join("")}function S(g,x,h,E){var N=[Z(H(E)),Z(i(g).toString(16)),Z(i(x).toString(16)),Z(i(h).toString(16))];return N.join("")}c.equals=function(g,x){return!g||!x?!1:c(g).toRgbString()==c(x).toRgbString()},c.random=function(){return c.fromRatio({r:u(),g:u(),b:u()})};function D(g,x){x=x===0?0:x||10;var h=c(g).toHsl();return h.s-=x/100,h.s=z(h.s),c(h)}function L(g,x){x=x===0?0:x||10;var h=c(g).toHsl();return h.s+=x/100,h.s=z(h.s),c(h)}function B(g){return c(g).desaturate(100)}function M(g,x){x=x===0?0:x||10;var h=c(g).toHsl();return h.l+=x/100,h.l=z(h.l),c(h)}function R(g,x){x=x===0?0:x||10;var h=c(g).toRgb();return h.r=s(0,o(255,h.r-i(255*-(x/100)))),h.g=s(0,o(255,h.g-i(255*-(x/100)))),h.b=s(0,o(255,h.b-i(255*-(x/100)))),c(h)}function I(g,x){x=x===0?0:x||10;var h=c(g).toHsl();return h.l-=x/100,h.l=z(h.l),c(h)}function P(g,x){var h=c(g).toHsl(),E=(h.h+x)%360;return h.h=E<0?360+E:E,c(h)}function U(g){var x=c(g).toHsl();return x.h=(x.h+180)%360,c(x)}function Y(g){var x=c(g).toHsl(),h=x.h;return[c(g),c({h:(h+120)%360,s:x.s,l:x.l}),c({h:(h+240)%360,s:x.s,l:x.l})]}function oe(g){var x=c(g).toHsl(),h=x.h;return[c(g),c({h:(h+90)%360,s:x.s,l:x.l}),c({h:(h+180)%360,s:x.s,l:x.l}),c({h:(h+270)%360,s:x.s,l:x.l})]}function ae(g){var x=c(g).toHsl(),h=x.h;return[c(g),c({h:(h+72)%360,s:x.s,l:x.l}),c({h:(h+216)%360,s:x.s,l:x.l})]}function K(g,x,h){x=x||6,h=h||30;var E=c(g).toHsl(),N=360/h,T=[c(g)];for(E.h=(E.h-(N*x>>1)+720)%360;--x;)E.h=(E.h+N)%360,T.push(c(E));return T}function W(g,x){x=x||6;for(var h=c(g).toHsv(),E=h.h,N=h.s,T=h.v,Q=[],se=1/x;x--;)Q.push(c({h:E,s:N,v:T})),T=(T+se)%1;return Q}c.mix=function(g,x,h){h=h===0?0:h||50;var E=c(g).toRgb(),N=c(x).toRgb(),T=h/100,Q={r:(N.r-E.r)*T+E.r,g:(N.g-E.g)*T+E.g,b:(N.b-E.b)*T+E.b,a:(N.a-E.a)*T+E.a};return c(Q)},c.readability=function(g,x){var h=c(g),E=c(x);return(t.max(h.getLuminance(),E.getLuminance())+.05)/(t.min(h.getLuminance(),E.getLuminance())+.05)},c.isReadable=function(g,x,h){var E=c.readability(g,x),N,T;switch(T=!1,N=ee(h),N.level+N.size){case"AAsmall":case"AAAlarge":T=E>=4.5;break;case"AAlarge":T=E>=3;break;case"AAAsmall":T=E>=7;break}return T},c.mostReadable=function(g,x,h){var E=null,N=0,T,Q,se,fe;h=h||{},Q=h.includeFallbackColors,se=h.level,fe=h.size;for(var ye=0;ye<x.length;ye++)T=c.readability(g,x[ye]),T>N&&(N=T,E=c(x[ye]));return c.isReadable(g,E,{level:se,size:fe})||!Q?E:(h.includeFallbackColors=!1,c.mostReadable(g,["#fff","#000"],h))};var O=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},re=c.hexNames=de(O);function de(g){var x={};for(var h in g)g.hasOwnProperty(h)&&(x[g[h]]=h);return x}function ue(g){return g=parseFloat(g),(isNaN(g)||g<0||g>1)&&(g=1),g}function G(g,x){J(g)&&(g="100%");var h=j(g);return g=o(x,s(0,parseFloat(g))),h&&(g=parseInt(g*x,10)/100),t.abs(g-x)<1e-6?1:g%x/parseFloat(x)}function z(g){return o(1,s(0,g))}function F(g){return parseInt(g,16)}function J(g){return typeof g=="string"&&g.indexOf(".")!=-1&&parseFloat(g)===1}function j(g){return typeof g=="string"&&g.indexOf("%")!=-1}function Z(g){return g.length==1?"0"+g:""+g}function k(g){return g<=1&&(g=g*100+"%"),g}function H(g){return t.round(parseFloat(g)*255).toString(16)}function ne(g){return F(g)/255}var X=function(){var g="[-\\+]?\\d+%?",x="[-\\+]?\\d*\\.\\d+%?",h="(?:"+x+")|(?:"+g+")",E="[\\s|\\(]+("+h+")[,|\\s]+("+h+")[,|\\s]+("+h+")\\s*\\)?",N="[\\s|\\(]+("+h+")[,|\\s]+("+h+")[,|\\s]+("+h+")[,|\\s]+("+h+")\\s*\\)?";return{CSS_UNIT:new RegExp(h),rgb:new RegExp("rgb"+E),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+E),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+E),hsva:new RegExp("hsva"+N),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ie(g){return!!X.CSS_UNIT.exec(g)}function ce(g){g=g.replace(r,"").replace(n,"").toLowerCase();var x=!1;if(O[g])g=O[g],x=!0;else if(g=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var h;return(h=X.rgb.exec(g))?{r:h[1],g:h[2],b:h[3]}:(h=X.rgba.exec(g))?{r:h[1],g:h[2],b:h[3],a:h[4]}:(h=X.hsl.exec(g))?{h:h[1],s:h[2],l:h[3]}:(h=X.hsla.exec(g))?{h:h[1],s:h[2],l:h[3],a:h[4]}:(h=X.hsv.exec(g))?{h:h[1],s:h[2],v:h[3]}:(h=X.hsva.exec(g))?{h:h[1],s:h[2],v:h[3],a:h[4]}:(h=X.hex8.exec(g))?{r:F(h[1]),g:F(h[2]),b:F(h[3]),a:ne(h[4]),format:x?"name":"hex8"}:(h=X.hex6.exec(g))?{r:F(h[1]),g:F(h[2]),b:F(h[3]),format:x?"name":"hex"}:(h=X.hex4.exec(g))?{r:F(h[1]+""+h[1]),g:F(h[2]+""+h[2]),b:F(h[3]+""+h[3]),a:ne(h[4]+""+h[4]),format:x?"name":"hex8"}:(h=X.hex3.exec(g))?{r:F(h[1]+""+h[1]),g:F(h[2]+""+h[2]),b:F(h[3]+""+h[3]),format:x?"name":"hex"}:!1}function ee(g){var x,h;return g=g||{level:"AA",size:"small"},x=(g.level||"AA").toUpperCase(),h=(g.size||"small").toLowerCase(),x!=="AA"&&x!=="AAA"&&(x="AA"),h!=="small"&&h!=="large"&&(h="small"),{level:x,size:h}}e.exports?e.exports=c:window.tinycolor=c})(Math)})(Ki);var We=Ki.exports;const Ap=({value:e,hue:t,onChange:r})=>{const n=C.exports.useRef(null),a=(l,d)=>{const f=We(l).toHsv();return d!==-1&&(f.h=d),f},i=`hsl(${a(e,t).h}, 100%, 50%)`,o=-(a(e,t).v*100)+1+100+"%",s=a(e,t).s*100+"%",u=l=>{if(l.preventDefault(),!n.current)return;const d=n.current.clientWidth,f=n.current.clientHeight,v=n.current.getBoundingClientRect().left+window.pageXOffset,b=n.current.getBoundingClientRect().top+window.pageYOffset,y=Ge.exports.clamp(l.pageX-v,0,d),w=Ge.exports.clamp(l.pageY-b,0,f),S=y/d,D=Ge.exports.clamp(-(w/f)+1,0,1);r({h:a(e,t).h,s:S,v:D,a:a(e,t).a})},c=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",c)};return _("div",{className:"saturation",ref:n,style:{background:i},onMouseDown:l=>{u(l),window.addEventListener("mousemove",u),window.addEventListener("mouseup",c)},children:[m("div",{className:"saturation-white"}),m("div",{className:"saturation-black"}),m("div",{className:"saturation-pointer",style:{top:o,left:s},children:m("div",{className:"saturation-circle"})})]})},Ji=({white:e="#fff",grey:t="#e6e6e6",size:r=8})=>{const n={},a=(s,u,c)=>{const p=document.createElement("canvas");p.width=p.height=c*2;const l=p.getContext("2d");return l?(l.fillStyle=s,l.fillRect(0,0,p.width,p.height),l.fillStyle=u,l.fillRect(0,0,c,c),l.translate(c,c),l.fillRect(0,0,c,c),p.toDataURL()):null},i=(s,u,c)=>{const p=s+","+u+","+c;if(n[p])return n[p];const l=a(s,u,c);return n[p]=l,l},o=C.exports.useMemo(()=>({backgroundImage:`url(${i(e,t,r)})`}),[e,t,r]);return m("div",{className:"checkerboard",style:o})},Rp=({hue:e,value:t,onChange:r})=>{const n=C.exports.useRef(0),a=C.exports.useRef(),i=C.exports.useRef("");C.exports.useEffect(()=>{const l=We(t).toHsl(),d=l.s===0?e:l.h;return d!==0&&d-n.current>0&&(i.current="right"),d!==0&&d-n.current<0&&(i.current="left"),n.current=d,()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}},[t,n.current,i.current]);const o=C.exports.useMemo(()=>{const l=We(t).toHsl();return e!==-1&&(l.h=e),l},[t,e]),s=()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)},u=l=>{c(l),window.addEventListener("mousemove",c),window.addEventListener("mouseup",s)},c=l=>{if(l.preventDefault(),!a.current)return;const d=a.current.clientWidth,f=a.current.getBoundingClientRect().left+window.pageXOffset,v=l.pageX-f;let b,y;v<0?b=0:v>d?b=360:(y=v*100/d,b=360*y/100),(e===-1||t.h!==b)&&r({h:b,l:o.l,s:o.s,a:o.a})};return m("div",{className:"hue",children:m("div",{className:"hue-container",ref:a,onMouseDown:u,children:m("div",{className:"hue-pointer",style:{left:(()=>o.h===0&&i.current==="right"?"100%":o.h*100/360+"%")()},children:m("div",{className:"hue-picker"})})})})},Np=({value:e,onChange:t})=>{const r=C.exports.useRef(null);C.exports.useEffect(()=>()=>{i()},[]);const n=C.exports.useMemo(()=>{const s=[e.r,e.g,e.b].join(",");return`linear-gradient(to right, rgba(${s}, 0) 0%, rgba(${s}, 1) 100%)`},[e]),a=s=>{if(s.preventDefault(),!r.current)return;const u=r.current.clientWidth,c=r.current.getBoundingClientRect().left+window.pageXOffset,p=s.pageX-c;let l=0;p<0?l=0:p>u?l=1:l=Math.round(p*100/u)/100,e.a!==l&&t({r:e.r,g:e.g,b:e.b,a:l})},i=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",i)};return _("div",{className:"alpha",children:[m("div",{className:"alpha-checkboard-wrap",children:m(Ji,{})}),m("div",{className:"alpha-gradient",style:{background:n}}),m("div",{className:"alpha-container",ref:r,onMouseDown:s=>{a(s),window.addEventListener("mousemove",a),window.addEventListener("mouseup",i)},children:m("div",{className:"alpha-pointer",style:{left:e.a*100+"%"},children:m("div",{className:"alpha-picker"})})})]})};const Tp=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],kp=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],Op=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],rr=({value:e="#e86b99",onChange:t})=>{const r=C.exports.useRef(-1),n=c=>{"h"in c?(r.current=c.h,i(We(c).toRgb())):(r.current=We(c).toHsl().h,i(c))},a=We(e).toRgb(),i=c=>{const p=`rgba(${[c.r,c.g,c.b,c.a].join(",")})`;t(p)},o=()=>`rgba(${[a.r,a.g,a.b,a.a].join(",")})`,s=(c,p,l)=>{const d=We(c).toRgb(),f=We(p).toRgb(),v=(f.r-d.r)/l,b=(f.g-d.g)/l,y=(f.b-d.b)/l,w=[];for(let S=0;S<l;S++){const D=We({r:d.r+v*S,g:d.g+b*S,b:d.b+y*S}).toRgbString();w.push(D)}return w},u=C.exports.useMemo(()=>{const c=[];for(const p of Tp)c.push(s(p[1],p[0],5));return c},[]);return _("div",{className:"color-picker",children:[m("div",{className:"picker-saturation-wrap",children:m(Ap,{value:a,hue:r.current,onChange:n})}),_("div",{className:"picker-controls",children:[_("div",{className:"picker-color-wrap",children:[m("div",{className:"picker-current-color",style:{background:o()}}),m(Ji,{})]}),_("div",{className:"picker-sliders",children:[m("div",{className:"picker-hue-wrap",children:m(Rp,{value:a,hue:r.current,onChange:n})}),m("div",{className:"picker-alpha-wrap",children:m(Np,{value:a,onChange:n})})]})]}),m("div",{className:"picker-presets",children:kp.map(c=>m("div",{className:"picker-presets-color",style:{background:c},onClick:()=>t(c)},c))}),m("div",{className:"picker-gradient-presets",children:u.map((c,p)=>m("div",{className:"picker-gradient-col","v-for":"(col, index) in presetColors",children:c.map(l=>m("div",{className:"picker-gradient-color",style:{background:l},onClick:()=>t(l)},l))},p))}),m("div",{className:"picker-presets",children:Op.map(c=>m("div",{className:"picker-presets-color",style:{background:c},onClick:()=>t(c)},c))})]})},Fp=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],Hp=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],Gp=new Array(10).fill("").map((e,t)=>({label:t+"px",value:t||"0"}));const Wp=({elementInfo:e,onSetting:t})=>{const r=s=>{t(s.style)},n=(s,u)=>{t({[u]:s})},a=C.exports.useMemo(()=>m("div",{className:"preset-title",children:Bp.map(s=>m("div",{className:"preset-style-item",style:s.style,onClick:()=>r(s),children:s.label},s.label))}),[]),i=(s,u)=>{t({[u]:s})},o=(s,u)=>{t({[u]:s})};return _("div",{className:"text-style-panel",children:[a,m(xt,{}),_("div",{className:"row",children:[m("div",{style:{flex:1},children:"\u5B57\u4F53\u5927\u5C0F\uFF1A"}),m(Ir,{style:{width:160},value:e==null?void 0:e.fontSize,options:Fp,onChange:s=>n(s,"fontSize")})]}),_("div",{className:"row",children:[m("div",{style:{flex:2},children:"\u884C\u95F4\u8DDD\uFF1A"}),m(Ir,{style:{width:160},value:e==null?void 0:e.lineHeight,options:Hp,onChange:s=>n(s,"lineHeight")})]}),_("div",{className:"row",children:[m("div",{style:{flex:2},children:"\u5B57\u95F4\u8DDD\uFF1A"}),m(Ir,{style:{width:160},value:e==null?void 0:e.wordSpace,options:Gp,onChange:s=>n(s,"wordSpace")})]}),m(xt,{}),_("div",{className:"row btn-group",children:[m(at,{trigger:"click",content:m(rr,{value:e==null?void 0:e.defaultColor,onChange:s=>i(s,"defaultColor")}),children:m(ke,{zIndex:1e3,title:"\u6587\u5B57\u989C\u8272",children:m(Re,{children:"\u989C\u8272"})})}),m(at,{trigger:"click",content:m(rr,{value:e==null?void 0:e.fill,onChange:s=>i(s,"fill")}),children:m(ke,{zIndex:1e3,title:"\u6587\u5B57\u586B\u5145",children:m(Re,{children:"\u586B\u5145"})})})]}),_("div",{className:"row btn-group",children:[m(ke,{zIndex:1e3,title:"\u5DE6\u5BF9\u9F50",children:m(Re,{className:Se({active:e.textAlign==="left"}),onClick:()=>o("left","textAlign"),children:"\u5DE6\u5BF9\u9F50"})}),m(ke,{zIndex:1e3,title:"\u5C45\u4E2D",children:m(Re,{className:Se({active:e.textAlign==="center"}),onClick:()=>o("center","textAlign"),children:"\u5C45\u4E2D"})}),m(ke,{zIndex:1e3,title:"\u53F3\u5BF9\u9F50",children:m(Re,{className:Se({active:e.textAlign==="right"}),onClick:()=>o("right","textAlign"),children:"\u53F3\u5BF9\u9F50"})})]})]})},$p=({elementInfo:e,onSetting:t})=>{const r=(n,a)=>{t({[a]:n})};return _("div",{className:"shape-style-panel",children:[_("div",{className:"row",children:[m("div",{style:{flex:1},children:"\u989C\u8272\u586B\u5145\uFF1A"}),m(at,{trigger:"click",content:m(rr,{value:e==null?void 0:e.defaultColor,onChange:n=>r(n,"fill")}),children:_(Re,{className:"color-pick-btn",style:{width:160},children:[m("div",{className:"color-block",style:{background:e.fill}}),m("span",{className:"icon iconfont icon-yanse"})]})})]}),_("div",{className:"row btn-group",children:[m(Re,{className:Se({active:e.flipH}),onClick:()=>r(!e.flipH,"flipH"),children:"\u6C34\u5E73\u7FFB\u8F6C"}),m(Re,{className:Se({active:e.flipV}),onClick:()=>r(!e.flipV,"flipV"),children:"\u5782\u76F4\u7FFB\u8F6C"})]}),m(xt,{})]})};const zp=e=>{const t=$(s=>s.canvas.handleElementId),r=$(s=>s.slides.slides),n=$(s=>s.slides.slideIndex),a=ve(),i=s=>{a(Gr({id:t,props:s}))};return m(Do,{children:(()=>{if(r[n]){const s=r[n].elements,u=s.findIndex(c=>c.id===t);if(u>-1){let c=null;switch(s[u].type){case"text":c=m(Wp,De(ge({},e),{elementInfo:s[u],onSetting:i}));break;case"image":c=m(Ip,De(ge({},e),{elementInfo:s[u],onSetting:i}));break;case"shape":c=m($p,De(ge({},e),{elementInfo:s[u],onSetting:i}));break;default:c=null}return c}return null}return null})()})},Vp=({slideInfo:e,onSlideSetting:t})=>{var n,a;const r=(i,o)=>{t({background:De(ge({},e.background||{}),{[o]:i})})};return _("div",{className:"shape-style-panel",children:[_("div",{className:"row",children:[m("div",{style:{flex:1},children:"\u80CC\u666F\u8272\uFF1A"}),m(at,{trigger:"click",content:m(rr,{value:(n=e==null?void 0:e.background)==null?void 0:n.color,onChange:i=>r(i,"color")}),children:_(Re,{className:"color-pick-btn",style:{width:160},children:[m("div",{className:"color-block",style:{background:((a=e==null?void 0:e.background)==null?void 0:a.color)||"#fff"}}),m("span",{className:"icon iconfont icon-yanse"})]})})]}),m("div",{className:"row btn-group"}),m(xt,{})]})};const Up=()=>{const e=ve(),t=$(l=>l.canvas.activeElementIdList),r=$(l=>l.slides.slides),n=$(l=>l.slides.slideIndex),[a,i]=C.exports.useState(""),o=C.exports.useMemo(()=>t.length?Ep:Mp,[t]);C.exports.useEffect(()=>{i(o[0].value)},[o]);const s=l=>{i(l)},u=l=>{e(Xe(l))},c=()=>{let l=null;switch(a){case"el_style":l=m(zp,{});break;case"el_position":l=m("div",{children:"el_position"});break;case"slide_style":l=m(Vp,{slideInfo:r[n],onSlideSetting:u});break;case"slide_animate":l=m("div",{children:"slide_animate"});break;default:l=m("div",{children:"404"})}return l},p=C.exports.useMemo(()=>m("div",{className:"tab-list",children:o.map(l=>m("div",{className:Se("tab",{active:a===l.value}),onClick:()=>s(l.value),children:l.label},l.label))}),[o,a]);return _("div",{className:"content-right",children:[p,m("div",{className:"content",children:c()})]})};var Qi=()=>{const e=$(s=>s.canvas.creatingElement),t=$(s=>s.slides.theme),r=ve(),n=s=>{r(Lo(s)),r(Ve([s.id])),e&&r(bt(null)),setTimeout(()=>{r(Wr(!0))},0),r(Eo())};return{createImageElement:(s,u)=>{Pp(s).then(({width:c,height:p})=>{const l=p/c;l<u&&c>me?(c=me,p=c*l):p>me*u&&(p=me*u,c=p/l),n({type:"image",id:rt(),src:s,width:c,height:p,left:(me-c)/2,top:(me*u-p)/2,fixedRatio:!0,rotate:0})})},createTextElement:(s,u="\u8BF7\u8F93\u5165\u5185\u5BB9")=>{const{left:c,top:p,width:l,height:d}=s;n({type:"text",id:rt(),left:c,top:p,width:l,height:d,content:u,rotate:0,fontSize:"16px",defaultFontName:t.fontName,defaultColor:t.fontColor})},createShapeElement:(s,u)=>{const{left:c,top:p,width:l,height:d}=s,f={type:"shape",id:rt(),left:c,top:p,width:l,height:d,viewBox:u.viewBox,path:u.path,fill:t.themeColor,fixedRatio:!1,rotate:0};u.special&&(f.special=!0),n(f)}}};const qp=[{type:"\u77E9\u5F62",children:[{viewBox:200,path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:200,path:"M 20 0 L 180 0 Q 200 0 200 20 L 200 180 Q 200 200 180 200 L 20 200 Q 0 200 0 180 L 0 20 Q 0 0 20 0 Z"},{viewBox:200,path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 L 0 150 Z"},{viewBox:200,path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 L 0 200"},{viewBox:200,path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 L 0 50 Z"},{viewBox:200,path:"M 0 0 L 140 0 Q 200 0 200 60 L 200 200 L 60 200 Q 0 200 0 140 L 0 0 Z"},{viewBox:200,path:"M 0 0 L 140 0 Q 200 0 200 60 L 200 200 L 0 200 L 0 0 Z"},{viewBox:200,path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 50 Z"}]},{type:"\u5E38\u7528\u5F62\u72B6",children:[{viewBox:200,path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:200,path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:200,path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:200,path:"M 100 0 L 0 200 L 200 200 L 100 0 Z"},{viewBox:200,path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:200,path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z"},{viewBox:200,path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z"},{viewBox:200,path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z"},{viewBox:200,path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:200,path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:200,path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:200,path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:200,path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z"},{viewBox:200,path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:200,path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:200,path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z"},{viewBox:200,path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:200,path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:200,path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:200,path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z"},{viewBox:200,path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z"},{viewBox:200,path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:200,path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z"},{viewBox:200,path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:200,path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 L 0 0 Z"},{viewBox:200,path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z"},{viewBox:200,path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:200,path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:200,path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:200,path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"}]},{type:"\u7BAD\u5934",children:[{viewBox:200,path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:200,path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:200,path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:200,path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:200,path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:200,path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:200,path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:200,path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:200,path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:200,path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:200,path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:200,path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:200,path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:200,path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:200,path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:200,path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:200,path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:200,path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:200,path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:1024,path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:1024,path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"\u5176\u4ED6\u5F62\u72B6",children:[{viewBox:1024,path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:1024,path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:1024,path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:1024,path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:1024,path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:1024,path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:1024,path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:1024,path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:1024,path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:1024,path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:1024,path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:1024,path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:1024,path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:1024,path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:1024,path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:1024,path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0}]}],Yp=({onSelect:e})=>m("div",{className:"shape-pool",children:qp.map(t=>_("div",{className:"category",children:[m("div",{className:"category-name",children:t.type}),m("div",{className:"shape-list",children:t.children.map((r,n)=>m("div",{className:"shape-item",children:m("div",{className:"shape-content",onClick:()=>e(r),children:m("svg",{overflow:"visible",width:"18",height:"18",children:m("g",{transform:`scale(${18/r.viewBox}, ${18/r.viewBox}) translate(0,0) matrix(1,0,0,1,0,0)`,children:m("path",{className:"shape-path",vectorEffect:"non-scaling-stroke",strokeLinecap:"butt",strokeMiterlimit:"8",strokeLinejoin:"round",fill:"transparent",stroke:"#999",strokeWidth:"2",d:r.path})})})})},n))})]},t.type))});const Xp=()=>{const[e,t]=C.exports.useState(!1),r=$(l=>l.canvas.viewportRatio),n=$(l=>l.slides.snapshotCursor),a=ve(),{createImageElement:i}=Qi();return _("div",{className:"content-center__tools flex",children:[_("div",{className:"tools-left flex",children:[m(ke,{placement:"top",title:"\u64A4\u9500",children:m("div",{onClick:()=>{n>0?a(Mo({type:"undo",data:n})):(Yt.destroy(),Yt.warn("\u5DF2\u7ECF\u662F\u6700\u539F\u59CB\u72B6\u6001\u4E86"))},className:"tools-item flex-center pointer",children:m("i",{className:"iconfont icon-houtui-kong"})})}),m(ke,{placement:"top",title:"\u91CD\u505A\u5F53\u524D\u9875",children:m("div",{onClick:()=>{a(Po())},className:"tools-item flex-center pointer",children:m("i",{className:"iconfont icon-qianjin-kong"})})})]}),_("div",{className:"tools-center flex",style:{marginLeft:50},children:[m(ke,{placement:"top",title:"\u6587\u5B57",children:m("div",{className:"tools-item flex-center pointer",onClick:()=>{a(bt({type:"text"}))},children:m("i",{className:"iconfont icon-wenben"})})}),m(ke,{placement:"top",title:"\u56FE\u7247",children:m("div",{className:"tools-item flex-center pointer",children:m(ji,{onChange:l=>{const d=l[0];!d||Zi(d).then(f=>{i(f,r)})},children:m("i",{className:"iconfont icon-icon1"})})})}),m(at,{trigger:"click",visible:e,onVisibleChange:t,content:m(Yp,{onSelect:l=>{a(bt({type:"shape",data:l})),t(!1)}}),children:m(ke,{placement:"top",title:"\u63D2\u5165\u5F62\u72B6",children:m("div",{className:"tools-item flex-center pointer",children:m("i",{className:"iconfont icon-xingzhuang"})})})})]})]})};var _p=e=>{const[t,r]=C.exports.useState(0),[n,a]=C.exports.useState(0),i=$(l=>l.canvas.canvasPercentage),o=$(l=>l.canvas.viewportRatio),s=ve(),u=()=>{if(!e.current)return;const l=e.current.clientWidth,d=e.current.clientHeight;if(d/l>o){const f=l*(i/100);s(In(f/me)),r((l-f)/2),a((d-f*o)/2)}else{const f=d*(i/100);s(In(f/(me*o))),r((l-f/o)/2),a((d-f)/2)}},c=new ResizeObserver(u);return C.exports.useEffect(()=>{u()},[i,o]),C.exports.useEffect(()=>(e.current&&c.observe(e.current),u(),()=>{e.current&&c.unobserve(e.current)}),[i,o]),{viewportStyles:C.exports.useMemo(()=>({width:me,height:me*o,left:t,top:n}),[t,n,o])}};const mn=()=>{const e=ve();return{deleteElement:(r,n,a)=>{if(!a.length)return;let i=[];i=r[n].elements.filter(o=>!a.includes(o.id)),e(Ve([])),e(Xe({elements:[...i]}))}}},eo=(e=!1)=>{const t=$(c=>c.canvas.activeElementIdList),r=$(c=>c.canvas.disableHotkeys),n=$(c=>c.canvas.thumbnailsFocus),a=$(c=>c.slides.slides),i=$(c=>c.slides.slideIndex),o=ve(),{deleteElement:s}=mn(),u=()=>{t.length?s(a,i,t):n&&Sa(a[i].id)};C.exports.useEffect(()=>{const c=p=>{const l=p.key.toLowerCase();if((p.key==="arrowdown"||l==="arrowright")&&o(Bn("next")),(p.key==="arrowup"||l==="arrowleft")&&o(Bn("prev")),e)l==="escape"&&o(Io());else if(l==="delete"||l==="backspace"){if(r)return;p.preventDefault(),u()}};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[t,r])},jp=({elementInfo:e,elementIndex:t,isMultiSelect:r,onSelectElement:n})=>(mn(),(()=>e.type==="text"?m(vn,{elementInfo:e,onSelectElement:n}):e.type==="image"?m(gn,{elementInfo:e,onSelectElement:n}):e.type==="shape"?m(hn,{elementInfo:e,onSelectElement:n}):null)());const Zp=({onCreatedElement:e})=>{const[t,r]=C.exports.useState({x:0,y:0}),[n,a]=C.exports.useState([0,0]),i=C.exports.useRef([]),o=C.exports.useRef(null);C.exports.useEffect(()=>{if(!o.current)return;const{x:f,y:v}=o.current.getBoundingClientRect();r({x:f,y:v})},[]);const s=ve(),u=$(f=>f.canvas.creatingElement),c=f=>{e(f)},p=f=>{f.stopPropagation();let v=!0;const b=f.pageX,y=f.pageY;i.current=[b,y],document.onmousemove=w=>{if(!u||!v)return;let S=w.pageX,D=w.pageY;a([S,D])},document.onmouseup=w=>{if(document.onmousemove=null,document.onmouseup=null,w.button===2){setTimeout(()=>{s(bt(null))},0);return}v=!1;const S=w.pageX,D=w.pageY,L=30;if((u==null?void 0:u.type)==="line"&&(Math.abs(S-b)>=L||Math.abs(D-y)>=L))c({start:i.current,end:[S,D]});else if((u==null?void 0:u.type)!=="line"&&Math.abs(S-b)>=L&&Math.abs(D-y)>=L)setTimeout(()=>{c({start:i.current,end:[S,D]})},6);else{const M=Math.min(S,b),R=Math.min(D,y),I=Math.max(S,b),P=Math.max(D,y),U=I-M>=L?I-M:200,Y=P-R>=L?P-R:200;c({start:[M,R],end:[M+U,R+Y]})}}},l=C.exports.useMemo(()=>{if(!i.current||!n||!u||u.type!=="line")return null;const[f,v]=i.current,[b,y]=n,w=Math.min(f,b),S=Math.max(f,b),D=Math.min(v,y),L=Math.max(v,y),B=S-w>=24?S-w:24,M=L-D>=24?L-D:24,R=f===w?0:S-w,I=v===D?0:L-D,P=b===w?0:S-w,U=y===D?0:L-D,Y=`M${R}, ${I} L${P}, ${U}`;return{svgWidth:B,svgHeight:M,startX:R,startY:I,endX:P,endY:U,path:Y}},[i.current,n,u]),d=()=>{if(!i.current||!n)return{};const[f,v]=i.current,[b,y]=n,w=Math.min(f,b),S=Math.max(f,b),D=Math.min(v,y),L=Math.max(v,y),B=S-w,M=L-D;return{left:w-t.x+"px",top:D-t.y+"px",width:B+"px",height:M+"px"}};return m("div",{className:"element-create-selection",ref:o,onMouseDown:p,children:i.current&&n&&m("div",{style:d(),className:`selection ${u.type}`,children:u.type==="line"&&l&&m("svg",{overflow:"visible",width:l==null?void 0:l.svgWidth,height:l==null?void 0:l.svgHeight,children:m("path",{id:l==null?void 0:l.path,stroke:"#d14424",fill:"none",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"round",strokeMiterlimit:"8"})})})})};const Kp=({type:e,axis:t,length:r})=>{const n=$(o=>o.canvas.canvasScale),a=C.exports.useMemo(()=>{const o=t.x*n+"px",s=t.y*n+"px";return{left:o,top:s}},[n,t]),i=C.exports.useMemo(()=>e==="vertical"?{height:r*n+"px"}:{width:r*n+"px"},[n,r]);return m("div",{className:"alignment-line",style:a,children:m("div",{className:`line ${e}`,style:i})})};var $t=(e=>(e.START="start",e.END="end",e.MID="mid",e))($t||{}),gt=(e=>(e.T="top",e.B="bottom",e.L="left",e.R="right",e))(gt||{}),te=(e=>(e.LEFT_TOP="left-top",e.TOP="top",e.RIGHT_TOP="right-top",e.LEFT="left",e.RIGHT="right",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.RIGHT_BOTTOM="right-bottom",e))(te||{}),bn=(e,t)=>{$(i=>i.canvas.canvasScale);const r=C.exports.useMemo(()=>[{direction:te.LEFT_TOP,style:{}},{direction:te.TOP,style:{left:e/2+"px"}},{direction:te.RIGHT_TOP,style:{left:e+"px"}},{direction:te.LEFT,style:{top:t/2+"px"}},{direction:te.RIGHT,style:{left:e+"px",top:t/2+"px"}},{direction:te.LEFT_BOTTOM,style:{top:t+"px"}},{direction:te.BOTTOM,style:{left:e/2+"px",top:t+"px"}},{direction:te.RIGHT_BOTTOM,style:{left:e+"px",top:t+"px"}}],[e,t]),n=C.exports.useMemo(()=>[{direction:te.LEFT,style:{top:t/2+"px"}},{direction:te.RIGHT,style:{left:e+"px",top:t/2+"px"}}],[e,t]),a=C.exports.useMemo(()=>[{type:gt.T,style:{width:e+"px"}},{type:gt.B,style:{top:t+"px",width:e+"px"}},{type:gt.L,style:{height:t+"px"}},{type:gt.R,style:{left:e+"px",height:t+"px"}}],[e,t]);return{resizeHandlers:r,textElementResizeHandlers:n,borderLines:a}};const xn=({type:e,isWide:t,style:r})=>m("div",{className:Se(`border-line ${e}`,{wide:t}),style:r}),yn=({type:e,rotate:t,style:r,element:n,onMouseDownEvent:a})=>{const i=C.exports.useMemo(()=>{const o="rotate-";return t>-22.5&&t<=22.5?o+0:t>22.5&&t<=67.5?o+45:t>67.5&&t<=112.5?o+90:t>112.5&&t<=157.5?o+135:t>157.5||t<=-157.5?o+0:t>-157.5&&t<=-112.5?o+45:t>-112.5&&t<=-67.5?o+90:t>-67.5&&t<=-22.5?o+135:o+0},[t]);return m("div",{onMouseDown:a,className:Se(`resize-handler ${e} ${i}`),style:r})},Jp=({elementInfo:e,handlerVisible:t,rotateElement:r,scaleElement:n,dragLineElement:a})=>{const i=$(l=>l.canvas.canvasScale),{scaleWidth:o,scaleHeight:s}=C.exports.useMemo(()=>{const l=e.width*i,d=e.height*i;return{scaleWidth:l,scaleHeight:d}},[e.width,e.height,i]),{textElementResizeHandlers:u,borderLines:c}=bn(o,s),p=(l,d)=>{n(l,e,d)};return _("div",{className:"text-element-operate",children:[t&&c.map(l=>m(xn,{type:l.type,style:l.style},l.type)),t&&u.map(l=>m(yn,{type:l.direction,rotate:e.rotate,style:l.style,element:e,onMouseDownEvent:d=>p(d,l.direction)},l.direction))]})},Qp=({elementInfo:e,handlerVisible:t,rotateElement:r,scaleElement:n,dragLineElement:a})=>{const i=$(l=>l.canvas.canvasScale),{scaleWidth:o,scaleHeight:s}=C.exports.useMemo(()=>{const l=e.width*i,d=e.height*i;return{scaleWidth:l,scaleHeight:d}},[e.width,e.height,i]),{resizeHandlers:u,borderLines:c}=bn(o,s),p=(l,d)=>{n(l,e,d)};return _("div",{className:"text-element-operate",children:[t&&c.map(l=>m(xn,{type:l.type,style:l.style},l.type)),t&&u.map(l=>m(yn,{type:l.direction,rotate:e.rotate,style:l.style,element:e,onMouseDownEvent:d=>p(d,l.direction)},l.direction))]})},e0=({elementInfo:e,handlerVisible:t,rotateElement:r,scaleElement:n,dragLineElement:a})=>{const i=$(l=>l.canvas.canvasScale),{scaleWidth:o,scaleHeight:s}=C.exports.useMemo(()=>{const l=e.width*i,d=e.height*i;return{scaleWidth:l,scaleHeight:d}},[e.width,e.height,i]),{resizeHandlers:u,borderLines:c}=bn(o,s),p=(l,d)=>{n(l,e,d)};return _("div",{className:"text-element-operate",children:[t&&c.map(l=>m(xn,{type:l.type,style:l.style},l.type)),t&&u.map(l=>m(yn,{type:l.direction,rotate:e.rotate,style:l.style,element:e,onMouseDownEvent:d=>p(d,l.direction)},l.direction))]})};const t0=({elementInfo:e,isActive:t,rotateElement:r,scaleElement:n,dragLineElement:a})=>{const i=$(v=>v.canvas.canvasScale),o=$(v=>v.canvas.toolbarState),s=$(v=>v.slides.slides),u=$(v=>v.slides.slideIndex),c=$(v=>v.canvas.activeElementIdList),{deleteElement:p}=mn();ve();const l=C.exports.useMemo(()=>e.type==="text"?m(Jp,{elementInfo:e,handlerVisible:!e.lock&&t,rotateElement:r,scaleElement:n,dragLineElement:a}):e.type==="image"?m(Qp,{elementInfo:e,handlerVisible:!e.lock&&t,rotateElement:r,scaleElement:n,dragLineElement:a}):e.type==="shape"?m(e0,{elementInfo:e,handlerVisible:!e.lock&&t,rotateElement:r,scaleElement:n,dragLineElement:a}):null,[e,t]),d=C.exports.useMemo(()=>{var b;return(((b=s[u])==null?void 0:b.animations)||[]).findIndex(y=>y.elId===e.id)},[s,u,e.id]),f=v=>{v.preventDefault(),p(s,u,c)};return console.log(t,"isActive"),_("div",{className:"operate",style:{top:e.top*i+"px",left:e.left*i+"px",transform:`rotate(${e.rotate}deg)`,transformOrigin:`${e.width*i/2}px ${e.height*i/2}px`},children:[" ",t&&m("div",{className:"operate-del",onClick:f,children:m(zo,{})}),l,o==="elAnimation"&&d!==-1&&m("div",{className:"animation-index",children:d+1})]})},r0=({background:e})=>m("div",{className:"viewport-background",style:(()=>{if(!e)return{backgroundColor:"#fff"};const{type:r,color:n,image:a,imageSize:i,gradientColor:o,gradientRotate:s,gradientType:u}=e;if(r==="solid")return{backgroundColor:n};if(r==="image")return a?i==="repeat"?{backgroundImage:`url(${a}`,backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:`url(${a}`,backgroundRepeat:"no-repeat",backgroundSize:i||"cover"}:{backgroundColor:"#fff"};if(r==="gradient"){const c=s||0,p=o?o[0]:"#fff",l=o?o[1]:"#fff";return u==="radial"?{backgroundImage:`radial-gradient(${p}, ${l}`}:{backgroundImage:`linear-gradient(${c}deg, ${p}, ${l}`}}return{backgroundColor:"#fff"}})()}),Br=e=>{const{left:t,top:r,width:n,height:a,rotate:i=0}=e,o=Math.sqrt(Math.pow(n,2)+Math.pow(a,2))/2,s=Math.atan(a/n)*180/Math.PI,u=(180-i-s)*Math.PI/180,c=(s-i)*Math.PI/180,p=t+n/2,l=r+a/2,d=[p+o*Math.cos(u),p+o*Math.cos(c),p-o*Math.cos(u),p-o*Math.cos(c)],f=[l-o*Math.sin(u),l-o*Math.sin(c),l+o*Math.sin(u),l+o*Math.sin(c)];return{xRange:[Math.min(...d),Math.max(...d)],yRange:[Math.min(...f),Math.max(...f)]}},nr=e=>{const t=[];return e.forEach(r=>{const n=t.findIndex(a=>a.value===r.value);if(n===-1)t.push(r);else{const a=t[n],i=Math.min(a.range[0],r.range[0]),o=Math.max(a.range[1],r.range[1]),s=[i,o],u={value:r.value,range:s};t[n]=u}}),t};var n0=e=>{const t=$(i=>i.canvas.canvasScale),r=$(i=>i.canvas.viewportRatio),n=ve();return{dragElement:(i,o,s,u)=>{if(!s.includes(o.id))return;let c=!0;const p=me,l=me*r,d=5,v=JSON.parse(JSON.stringify(u)).filter(W=>s.includes(W.id)),b=o.left||0,y=o.top||0,w=o.width,S="height"in o&&o.height?o.height:0,D="rotate"in o&&o.rotate?o.rotate:0,L=i.pageX,B=i.pageY;let M=null,R=[],I=[];for(const W of u){if(W.type==="line")continue;let O,re,de,ue;if("rotate"in W&&W.rotate){const{xRange:ie,yRange:ce}=Br({left:W.left,top:W.top,width:W.width,height:W.height,rotate:W.rotate});O=ie[0],re=ce[0],de=ie[1]-ie[0],ue=ce[1]-ce[0]}else O=W.left,re=W.top,de=W.width,ue=W.height;const G=O+de,z=re+ue,F=re+ue/2,J=O+de/2,j={value:re,range:[O,G]},Z={value:z,range:[O,G]},k={value:F,range:[O,G]},H={value:O,range:[re,z]},ne={value:G,range:[re,z]},X={value:J,range:[re,z]};R.push(j,Z,k),I.push(H,ne,X)}const P={value:0,range:[0,p]},U={value:l,range:[0,p]},Y={value:l/2,range:[0,p]},oe={value:0,range:[0,l]},ae={value:p,range:[0,l]},K={value:p/2,range:[0,l]};R.push(P,U,Y),I.push(oe,ae,K),R=nr(R),I=nr(I),document.onmousemove=W=>{const O=W.pageX,re=W.pageY;if(M!==!1&&(M=Math.abs(L-O)<d&&Math.abs(B-re)<d),!c||M)return;const de=(O-L)/t,ue=(re-B)/t;let G=b+de,z=y+ue,F,J,j,Z;if(s.length===1)if(D){const{xRange:ce,yRange:ee}=Br({left:G,top:z,width:w,height:S,rotate:D});F=ce[0],J=ce[1],j=ee[0],Z=ee[1]}else o.type==="line"?(F=G,J=G+Math.max(o.start[0],o.end[0]),j=z,Z=z+Math.max(o.start[1],o.end[1])):(F=G,J=G+w,j=z,Z=z+S);else{const ce=[],ee=[],g=[],x=[];for(let h=0;h<v.length;h++){const E=v[h],N=E.left+de,T=E.top+ue,Q=E.width,se="height"in E&&E.height?E.height:0,fe="rotate"in E&&E.rotate?E.rotate:0;if("rotate"in E&&E.rotate){const{xRange:ye,yRange:he}=Br({left:N,top:T,width:Q,height:se,rotate:fe});ce.push(ye[0]),ee.push(he[0]),g.push(ye[1]),x.push(he[1])}else E.type==="line"?(ce.push(N),ee.push(T),g.push(N+Math.max(E.start[0],E.end[0])),x.push(T+Math.max(E.start[1],E.end[1]))):(ce.push(N),ee.push(T),g.push(N+Q),x.push(T+se))}F=Math.min(...ce),J=Math.max(...g),j=Math.min(...ee),Z=Math.max(...x)}const k=F+(J-F)/2,H=j+(Z-j)/2,ne=[];let X=!1,ie=!1;for(let ce=0;ce<R.length;ce++){const{value:ee,range:g}=R[ce],x=Math.min(...g,F,J),h=Math.max(...g,F,J);Math.abs(j-ee)<d&&!ie&&(z=z-(j-ee),ie=!0,ne.push({type:"horizontal",axis:{x:x-50,y:ee},length:h-x+100})),Math.abs(Z-ee)<d&&!ie&&(z=z-(Z-ee),ie=!0,ne.push({type:"horizontal",axis:{x:x-50,y:ee},length:h-x+100})),Math.abs(H-ee)<d&&!ie&&(z=z-(H-ee),ie=!0,ne.push({type:"horizontal",axis:{x:x-50,y:ee},length:h-x+100}))}for(let ce=0;ce<I.length;ce++){const{value:ee,range:g}=I[ce],x=Math.min(...g,j,Z),h=Math.max(...g,j,Z);Math.abs(F-ee)<d&&!X&&(G=G-(F-ee),X=!0,ne.push({type:"vertical",axis:{x:ee,y:x-50},length:h-x+100})),Math.abs(J-ee)<d&&!X&&(G=G-(J-ee),X=!0,ne.push({type:"vertical",axis:{x:ee,y:x-50},length:h-x+100})),Math.abs(k-ee)<d&&!X&&(G=G-(k-ee),X=!0,ne.push({type:"vertical",axis:{x:ee,y:x-50},length:h-x+100}))}e.current=ne,s.length===1&&(u=u.map(ee=>ee.id===o.id?De(ge({},ee),{left:G,top:z}):ee),Ge.exports.debounce(()=>{n(Xe({elements:u}))},1)())},document.onmouseup=W=>{c=!1,document.onmousemove=null,document.onmouseup=null,e.current=[];const O=W.pageX,re=W.pageY;L===O&&B===re||n(Xe({elements:u}))}}}};const a0=(e,t)=>{const r=$(u=>u.canvas.editorAreaFocus),n=$(u=>u.canvas.activeElementIdList),a=$(u=>u.canvas.handleElementId),i=ve();return{selectElement:(u,c,p=!0,l)=>{r||i(Wr(!0));let d=[...n];n.includes(c.id)?a!==c.id&&i(An(c.id)):(d=[c.id],i(Ve(Ge.exports.uniq([...d]))),i(An(c.id))),p&&setTimeout(()=>{t(u,c,Ge.exports.uniq(d),l)},0)},selectAllElement:()=>{const c=e.filter(p=>!p.lock).map(p=>p.id);i(Ve(c))}}};var i0=e=>{const t=$(a=>a.canvas.canvasScale),r=ve();return{dragLineElement:(a,i,o)=>{let s=!0;[...e];const u=8,c=a.pageX,p=a.pageY,l=[];for(let d=0;d<e.length;d++){const f=e[d];if(f.type==="line"||f.rotate)continue;const v=f.left,b=f.top,y=f.width,w=f.height,S=v+y,D=b+w,L=b+w/2,B=v+y/2,M={x:B,y:b},R={x:B,y:D},I={x:v,y:L},P={x:S,y:L},U={x:v,y:b},Y={x:S,y:b},oe={x:v,y:D},ae={x:S,y:D};l.push(M,R,I,P,U,Y,oe,ae)}document.onmousemove=d=>{if(!s)return;const f=d.pageX,v=d.pageY,b=(f-c)/t.value,y=(v-p)/t.value;let w=i.left+i.start[0],S=i.top+i.start[1],D=i.left+i.end[0],L=i.top+i.end[1];const B=i.broken||i.curve||[0,0];let M=i.left+B[0],R=i.top+B[1];if(o===$t.START){w=w+b,S=S+y,Math.abs(w-D)<u&&(w=D),Math.abs(S-L)<u&&(S=L);for(const K of l){const{x:W,y:O}=K;if(Math.abs(W-w)<u&&Math.abs(O-S)<u){w=W,S=O;break}}}else if(o===$t.END){D=D+b,L=L+y,Math.abs(w-D)<u&&(D=w),Math.abs(S-L)<u&&(L=S);for(const K of l){const{x:W,y:O}=K;if(Math.abs(W-D)<u&&Math.abs(O-L)<u){D=W,L=O;break}}}else M=M+b,R=R+y,Math.abs(M-w)<u&&(M=w),Math.abs(R-S)<u&&(R=S),Math.abs(M-D)<u&&(M=D),Math.abs(R-L)<u&&(R=L),Math.abs(M-(w+D)/2)<u&&Math.abs(R-(S+L)/2)<u&&(M=(w+D)/2,R=(S+L)/2);const I=Math.min(w,D),P=Math.min(S,L),U=Math.max(w,D),Y=Math.max(S,L),oe=[0,0],ae=[U-I,Y-P];w>D&&(oe[0]=U-I,ae[0]=0),S>L&&(oe[1]=Y-P,ae[1]=0),e.map(K=>{if(K.id===i.id){const W=De(ge({},K),{left:I,top:P,start:oe,end:ae});return o!==$t.MID?(i.broken&&(W.broken=[(oe[0]+ae[0])/2,(oe[1]+ae[1])/2]),i.curve&&(W.curve=[(oe[0]+ae[0])/2,(oe[1]+ae[1])/2])):(i.broken&&(W.broken=[M-I,R-P]),i.curve&&(W.curve=[M-I,R-P])),W}return K})},document.onmouseup=d=>{s=!1,document.onmousemove=null,document.onmouseup=null;const f=d.pageX,v=d.pageY;c===f&&p===v||r(Xe({elements:e}))}}}};const o0={text:20,image:20,shape:15,chart:200,table:20,video:250,audio:20},ya=(e,t)=>{const{left:r,top:n,width:a,height:i}=e,o=Math.sqrt(Math.pow(a,2)+Math.pow(i,2))/2,s=Math.atan(i/a)*180/Math.PI,u=(180-t-s)*Math.PI/180,c=(s-t)*Math.PI/180,p=(90-t)*Math.PI/180,l=t*Math.PI/180,d=a/2,f=i/2,v=r+d,b=n+f,y={left:v+o*Math.cos(u),top:b-o*Math.sin(u)},w={left:v+f*Math.cos(p),top:b-f*Math.sin(p)},S={left:v+o*Math.cos(c),top:b-o*Math.sin(c)},D={left:v+d*Math.cos(l),top:b+d*Math.sin(l)},L={left:v-o*Math.cos(u),top:b+o*Math.sin(u)},B={left:v-f*Math.sin(l),top:b+f*Math.cos(l)},M={left:v-o*Math.cos(c),top:b+o*Math.sin(c)},R={left:v-d*Math.cos(l),top:b-d*Math.sin(l)};return{leftTopPoint:y,topPoint:w,rightTopPoint:S,rightPoint:D,rightBottomPoint:L,bottomPoint:B,leftBottomPoint:M,leftPoint:R}},wa=(e,t)=>({[te.RIGHT_BOTTOM]:t.leftTopPoint,[te.LEFT_BOTTOM]:t.rightTopPoint,[te.LEFT_TOP]:t.rightBottomPoint,[te.RIGHT_TOP]:t.leftBottomPoint,[te.TOP]:t.bottomPoint,[te.BOTTOM]:t.topPoint,[te.LEFT]:t.rightPoint,[te.RIGHT]:t.leftPoint})[e];var s0=(e,t)=>{const r=$(p=>p.canvas.viewportRatio),n=$(p=>p.canvas.canvasScale),a=$(p=>p.keyboard.ctrlKeyState),i=$(p=>p.keyboard.shiftKeyState),o=ve(),s=C.exports.useMemo(()=>a|i,[a,i]);let u=[...e];return{scaleElement:(p,l,d)=>{let f=!0;o(Rn(!0));const v=l.left,b=l.top,y=l.width,w=l.height,S="rotate"in l&&l.rotate?l.rotate:0,D=Math.PI*S/180,L=s||"fixedRatio"in l&&l.fixedRatio,B=y/w,M=p.pageX,R=p.pageY,I=o0[l.type]||20,P=O=>O<I?I:O;let U,Y=0,oe=0,ae=[],K=[];if("rotate"in l&&l.rotate){const{left:O,top:re,width:de,height:ue}=l;U=ya({left:O,top:re,width:de,height:ue},S);const G=wa(d,U);Y=G.left,oe=G.top}else{const O=me,re=me*r;for(const j of e){if("rotate"in j&&j.rotate)continue;const Z=j.left,k=j.top,H=j.width,ne=j.height,X=Z+H,ie=k+ne,ce={value:k,range:[Z,X]},ee={value:ie,range:[Z,X]},g={value:Z,range:[k,ie]},x={value:X,range:[k,ie]};ae.push(ce,ee),K.push(g,x)}const de={value:0,range:[0,O]},ue={value:re,range:[0,O]},G={value:re/2,range:[0,O]},z={value:0,range:[0,re]},F={value:O,range:[0,re]},J={value:O/2,range:[0,re]};ae.push(de,ue,G),K.push(z,F,J),ae=nr(ae),K=nr(K)}const W=(O,re)=>{const ue=[];let G=!1,z=!1;const F={offsetX:0,offsetY:0};if(re||re===0)for(let J=0;J<ae.length;J++){const{value:j,range:Z}=ae[J],k=Math.min(...Z,O||0),H=Math.max(...Z,O||0);Math.abs(re-j)<5&&!z&&(F.offsetY=re-j,z=!0,ue.push({type:"horizontal",axis:{x:k-50,y:j},length:H-k+100}))}if(O||O===0)for(let J=0;J<K.length;J++){const{value:j,range:Z}=K[J],k=Math.min(...Z,re||0),H=Math.max(...Z,re||0);Math.abs(O-j)<5&&!G&&(F.offsetX=O-j,G=!0,ue.push({type:"vertical",axis:{x:j,y:k-50},length:H-k+100}))}return F};document.onmousemove=O=>{if(!f)return;const re=O.pageX,de=O.pageY,ue=re-M,G=de-R;let z=y,F=w,J=v,j=b;if(S){const k=(Math.cos(D)*ue+Math.sin(D)*G)/n;let H=(Math.cos(D)*G-Math.sin(D)*ue)/n;L&&((d===te.RIGHT_BOTTOM||d===te.LEFT_TOP)&&(H=k/B),(d===te.LEFT_BOTTOM||d===te.RIGHT_TOP)&&(H=-k/B)),d===te.RIGHT_BOTTOM?(z=P(y+k),F=P(w+H)):d===te.LEFT_BOTTOM?(z=P(y-k),F=P(w+H),J=v-(z-y)):d===te.LEFT_TOP?(z=P(y-k),F=P(w-H),J=v-(z-y),j=b-(F-w)):d===te.RIGHT_TOP?(z=P(y+k),F=P(w-H),j=b-(F-w)):d===te.TOP?(F=P(w-H),j=b-(F-w)):d===te.BOTTOM?F=P(w+H):d===te.LEFT?(z=P(y-k),J=v-(z-y)):d===te.RIGHT&&(z=P(y+k));const ne=ya({width:z,height:F,left:J,top:j},S),X=wa(d,ne),ie=X.left,ce=X.top,ee=ie-Y,g=ce-oe;J=J-ee,j=j-g}else{let k=ue/n,H=G/n;if(L&&((d===te.RIGHT_BOTTOM||d===te.LEFT_TOP)&&(H=k/B),(d===te.LEFT_BOTTOM||d===te.RIGHT_TOP)&&(H=-k/B)),d===te.RIGHT_BOTTOM){const{offsetX:ne,offsetY:X}=W(v+y+k,b+w+H);k=k-ne,H=H-X,L&&(X?k=H*B:H=k/B),z=P(y+k),F=P(w+H)}else if(d===te.LEFT_BOTTOM){const{offsetX:ne,offsetY:X}=W(v+k,b+w+H);k=k-ne,H=H-X,L&&(X?k=-H*B:H=-k/B),z=P(y-k),F=P(w+H),J=v-(z-y)}else if(d===te.LEFT_TOP){const{offsetX:ne,offsetY:X}=W(v+k,b+H);k=k-ne,H=H-X,L&&(X?k=H*B:H=k/B),z=P(y-k),F=P(w-H),J=v-(z-y),j=b-(F-w)}else if(d===te.RIGHT_TOP){const{offsetX:ne,offsetY:X}=W(v+y+k,b+H);k=k-ne,H=H-X,L&&(X?k=-H*B:H=-k/B),z=P(y+k),F=P(w-H),j=b-(F-w)}else if(d===te.LEFT){const{offsetX:ne}=W(v+k,null);k=k-ne,z=P(y-k),J=v-(z-y)}else if(d===te.RIGHT){const{offsetX:ne}=W(v+y+k,null);k=k-ne,z=P(y+k)}else if(d===te.TOP){const{offsetY:ne}=W(null,b+H);H=H-ne,F=P(w-H),j=b-(F-w)}else if(d===te.BOTTOM){const{offsetY:ne}=W(null,b+w+H);H=H-ne,F=P(w+H)}}Ge.exports.debounce(()=>{let k=ge({},l);e.forEach(H=>{H.id===l.id&&(k=De(ge(ge({},l),H),{width:z,height:F}))}),o(Gr(ge({},k))),u=e.map(H=>l.id===H.id?De(ge({},H),{left:J,top:j,width:z,height:F}):H),o(Xe({elements:u}))},0)()},document.onmouseup=O=>{f=!1,document.onmousemove=null,document.onmouseup=null,!(M===O.pageX&&R===O.pageY)&&(o(Xe({elements:u})),o(Rn(!1)))}}}},l0=e=>{const t=$(c=>c.canvas.canvasScale),r=$(c=>c.canvas.creatingElement),n=ve(),a=c=>{const{start:p,end:l}=c;if(!e)return;const d=e.getBoundingClientRect(),[f,v]=p,[b,y]=l,w=Math.min(f,b),S=Math.max(f,b),D=Math.min(v,y),L=Math.max(v,y),B=(w-d.x)/t,M=(D-d.y)/t,R=(S-w)/t,I=(L-D)/t;return{left:B,top:M,width:R,height:I}},{createTextElement:i,createShapeElement:o,createLineElement:s}=Qi();return{insertElementFromCreateSelection:c=>{if(!r)return;const p=r.type;if(p==="text"){const l=a(c);l&&i(l)}else if(p==="shape"){const l=a(c);l&&o(l,r.data)}n(bt(null))}}};const c0=(e,t)=>{const r=Math.atan2(e,t);return 180/Math.PI*r};var u0=(e,t)=>{const r=ve(),n=$(o=>o.canvas.canvasScale);let a=[...e];return{rotateElement:o=>{let s=!0,u=0;const c=o.rotate||0,p=o.left,l=o.top,d=o.width,f=o.height,v=p+d/2,b=l+f/2;if(!t)return;const y=t.getBoundingClientRect();document.onmousemove=w=>{if(!s)return;const S=(w.pageX-y.left)/n.value,D=(w.pageY-y.top)/n.value,L=S-v,B=b-D;u=c0(L,B);const M=5;Math.abs(u)<=M?u=0:u>0&&Math.abs(u-45)<=M?u-=u-45:u<0&&Math.abs(u+45)<=M?u-=u+45:u>0&&Math.abs(u-90)<=M?u-=u-90:u<0&&Math.abs(u+90)<=M?u-=u+90:u>0&&Math.abs(u-135)<=M?u-=u-135:u<0&&Math.abs(u+135)<=M?u-=u+135:u>0&&Math.abs(u-180)<=M?u-=u-180:u<0&&Math.abs(u+180)<=M&&(u-=u+180),a=e.map(R=>o.id===R.id?De(ge({},R),{rotate:u}):R)},document.onmouseup=()=>{s=!1,document.onmousemove=null,document.onmouseup=null,c!==u&&r(Xe({elements:a}))}}}};const d0=()=>{var M,R;eo();const e=C.exports.useRef(null),t=C.exports.useRef(void 0),[r,n]=C.exports.useState([]),a=C.exports.useRef(null),i=$(I=>I.canvas.canvasScale),o=$(I=>I.canvas.creatingElement),s=$(I=>I.canvas.activeElementIdList),u=$(I=>I.canvas.handleElementId),c=$(I=>I.canvas.editorAreaFocus),p=$(I=>I.slides.slides),l=$(I=>I.slides.slideIndex),d=ve(),{viewportStyles:f}=_p(e),{dragElement:v}=n0(a),{selectElement:b}=a0(r,v),{dragLineElement:y}=i0(r),{rotateElement:w}=u0(r,t.current),{scaleElement:S}=s0(r,a.current),{insertElementFromCreateSelection:D}=l0(t.current);C.exports.useEffect(()=>{let I=[];l>p.length-1?(d(nt(p.length-1)),I=p[p.length-1].elements):I=p[l].elements,n(I)},[p,l]);const L=I=>{const P=document.querySelectorAll(".element-content");let U=!1;for(let Y of P)Y.contains(I.target)&&(U=!0);U||(d(Ve([])),c||d(Wr(!0)),B())},B=()=>{const I=window.getSelection();I&&I.removeAllRanges()};return _("div",{className:"canvas",ref:e,onClick:L,children:[o&&m(Zp,{onCreatedElement:D}),_("div",{className:"viewport-wrapper",style:{width:f.width*i+"px",height:f.height*i+"px",left:f.left+"px",top:f.top+"px"},children:[_("div",{className:"operates",children:[(a.current||[]).map((I,P)=>m(Kp,{type:I.type,axis:I.axis,length:I.length},P)),(r||[]).map((I,P)=>m(t0,{elementInfo:I,isSelected:s.includes(I.id),isActive:u===I.id,rotateElement:w,scaleElement:S,dragLineElement:y},I.id)),m(r0,{background:(M=p[l])==null?void 0:M.background})]}),m("div",{className:"viewport",ref:t,style:{transform:`scale(${i})`},children:(R=r||[])==null?void 0:R.map((I,P)=>m(jp,{elementInfo:I,elementIndex:P+1,isMultiSelect:s.length>1,onSelectElement:b},I.id))})]})]})};const p0=()=>_("div",{className:"content-center",children:[m(Xp,{}),m(d0,{})]});const f0=()=>_("div",{className:"ikppt-editor",children:[m(as,{}),_("div",{className:"ikppt-editor__content",children:[m(Lp,{}),m(p0,{}),m(Up,{})]})]}),v0=({elementInfo:e,elementIndex:t})=>{var o;const r=$(s=>s.slides.theme),n=()=>{const s=e.link;s&&s.type==="web"&&window.open(s.target)},a=()=>{},i=C.exports.useMemo(()=>e.type==="text"?m(vn,{elementInfo:e,editable:!1,onSelectElement:a}):e.type==="image"?m(gn,{elementInfo:e,onSelectElement:a}):e.type==="shape"?m(hn,{elementInfo:e,onSelectElement:a}):null,[e]);return m("div",{className:Se("screen-element",{link:e.link}),id:`screen-element-${e.id}`,style:{zIndex:t,color:r.fontColor,fontFamily:r.fontName},title:((o=e.link)==null?void 0:o.target)||"",onClick:n,children:i})};const g0=({slide:e,viewportRatio:t,scale:r})=>{const n=C.exports.useMemo(()=>e.background,[e]),{backgroundStyle:a}=_i();return _("div",{className:"screen-slide",style:{width:me+"px",height:me*t+"px",transform:`scale(${r})`},children:[m("div",{className:"background",style:ge({},a(n))}),e.elements.map((i,o)=>m(v0,{elementInfo:i,elementIndex:o+1},i.id))]})};const h0=()=>{Hr();const e=$(b=>b.slides.slides),t=$(b=>b.slides.slideIndex),r=$(b=>b.canvas.viewportRatio),n=ve();eo(!0);const[a,i]=C.exports.useState(0),[o,s]=C.exports.useState(0),{exitScreening:u}=$r();C.exports.useMemo(()=>e[t],[e,t]);const c=C.exports.useMemo(()=>a/me,[a]);C.exports.useEffect(()=>{const b=()=>{v(),ka()||u()};return window.addEventListener("resize",b),()=>{window.removeEventListener("resize",b)}},[]);const p=()=>{n(nt(t-1))},l=()=>{n(nt(t+1))},d=()=>{u()},f=m(qt,{items:[{label:m("div",{onClick:p,children:"\u4E0A\u4E00\u9875"}),disabled:t<=0,key:"prev"},{label:m("div",{onClick:l,children:"\u4E0B\u4E00\u9875"}),key:"next"},{label:m("div",{onClick:d,children:"\u7ED3\u675F\u653E\u6620"}),key:"exit"}]}),v=()=>{const b=document.body.clientWidth,y=document.body.clientHeight;let w,S;y/b===r?(w=b,S=y):y/b>r?(w=b,S=b*r):(w=y/r,S=y),i(w),s(S)};return m("div",{className:"ppt-screen",children:m(Ut,{overlay:f,trigger:["contextMenu"],children:m("div",{className:"slide-list",children:e.map((b,y)=>m("div",{className:Se("slide-item",`turning-mode-${b.turningMode||"slideY"}`,{current:y===t,before:y<t,after:y>t,hide:y===t-1||y===t+1}),children:m("div",{className:"slide-content",style:{width:a+"px",height:o+"px"},children:m(g0,{slide:b,scale:c,viewportRatio:r})})},b.id))})})})},y0=()=>{const e=$(a=>a.screen.screening),t=$(a=>a.slides.slides),r=$(a=>a.slides.slideIndex),n=ve();return C.exports.useEffect(()=>{const a=Ge.exports.cloneDeep(t);return n(Bo({type:"initSnapshot",data:{slides:a,slideIndex:r}})),()=>{n(Ao())}},[]),m("div",{className:"ik-web-ppt",children:e?m(h0,{}):m(f0,{})})};export{y0 as default};
